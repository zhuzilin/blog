---
title: 量子力学原理笔记（上）
date: 2023-10-09 21:30:00
tags: ["物理"]
---

# 1 The principle of superposition

## 1.5 Mathematical formulation of the principle

叠加态现象意味着我们可以通过把状态相加得到新状态，所以表示状态的数学量肯定是可以相加的，随之我们联想到向量，但是有限维向量对于大多数量子系统都是够的，所以我们考虑一般化为无穷维。我们定义这种向量为 ket，并用 $|\ \rangle$ 表示。ket 可以和**复数**进行运算，得到：
$$
c_1|A\rangle+c_2|B\rangle=|R\rangle
$$
更一般行的，我们可以考虑积分（注意这里的 $x$ 只是任意一个自变量）：
$$
\int|x\rangle dx=|Q\rangle
$$
如果一个 ket 可以被其他一些 ket 线性表示，则称这个 ket dependent on them。如果一组 ket 都不能线性表示彼此，则称他们相互 independent。

我们继续定义动力系统的每个状态都对应一个 ket，并**进一步假设一个状态和自己叠加仍然是同一个状态**，也就是：
$$
c_1|A\rangle+c_2|A\rangle=(c_1+c_2)|A\rangle
$$
都是同一个状态。这个假设体现出量子系统和经典系统的差别。因为绝对大小不重要，其实只需要看 $c_1/c_2$，也就对应着 A, B 两个叠加态可以生成 two fold infinity 那么多的状态，和实验相符（这也是为啥系数要用复数）。

## 1.6 Bra and ket vectors

和 ket 对应，我们定义 bra 为 $\langle\ |$，并可以和 ket 做 scalar product：
$$
\langle B|A\rangle=\phi
$$
我们还**定义**这个 scalar product 是一个 linear function，也就是：
$$
\begin{aligned}
\langle B | \{|A\rangle+|A'\rangle\}&=\langle B|A\rangle+\langle B|A'\rangle\\
\langle B | \{c|A\rangle\}&=c\langle B|A\rangle
\end{aligned}
$$
当一个 bra 和任何 ket 的 scalar product 结果都被定义时，bra 被完全确定。我们还**定义**：
$$
\begin{aligned}
\{\langle B|+\langle B'|\} |A\rangle&=\langle B|A\rangle+\langle B'|A\rangle\\
\{c\langle B|\}|A\rangle &=c\langle B|A\rangle
\end{aligned}
$$
我们继续**假设** bra 和 ket 有一个一一对应关系，称其中的一个是另一个的 conjugate imaginary，不过要注意，他们并不真的是复数，所以不能通过相加得到实部或者相减变成虚部。我们**假设**：
$$
\langle B|A\rangle=\overline{\langle A|B\rangle}
$$
以及**假设**：
$$
\langle A|A\rangle>0
$$
除非 $|A\rangle=0$。我们定义 $\langle A|$ 或 $|A\rangle$ 的长度为 $\sqrt{\langle A|A\rangle}$。

如果 $\langle B|A\rangle=0$，我们称 $\langle B|$ 与 $|A\rangle$ 正交，进一步，我们认为如果两个 vector 正交，那么对应的 2 个 state 正交。

# 2 Dynamical variables and observables

## 2.7 dynamical variables and observerables

我们定义 linear operator $\alpha$ 为 $|F\rangle=\alpha|A\rangle$，它的线性体现在：
$$
\begin{aligned}
\alpha\{|A\rangle + |A'\rangle\}&=\alpha|A\rangle+\alpha|A'\rangle\\
\alpha\{c|A\rangle\}&=c\alpha|A\rangle
\end{aligned}
$$
当确定了一个线性算子施加于任意 ket 的结果时，这个线性算子被完全确定了。我们可以累加和连乘线性算子，即：
$$
\begin{aligned}
\{\alpha+\beta\}|A\rangle&=\alpha|A\rangle+\beta|A\rangle\\
\{\alpha\beta\}|A\rangle&=\alpha\{\beta|A\}
\end{aligned}
$$
不过要注意，一般情况下 $\alpha\beta\ne \beta\alpha$。继续如果我们考虑线性算子施加于 bra 上，我们可以用如下定义：
$$
\{\langle B|\alpha\}|A\rangle=\langle B|\{\alpha|A\rangle\}
$$
我们来考察一下反过来的乘法 $|A\rangle\langle B|$，这个东西很显然是个线性算子。

我们进一步**假设一个 linear operator 对应当前时刻的一个 dynamical variable**。dynamical variable 就是类似于位移，动量，角动量之类的东西。

## 2.8 conjugate relations

定义 $\alpha$ 的 adjoint 为 $\bar{a}$，它满足 $\langle P|\alpha$ 的 conjugate imaginary 是 $\bar{\alpha}|P\rangle$。由这个特点，有：
$$
\langle B|\bar{\alpha}|P\rangle=\overline{\langle P|\alpha|B\rangle}
$$
用上式可以推出 $\bar{\bar{\alpha}}=\alpha$。这个 ajoint 2 次就变回原来的值的特点，让他有点像 complex number。所以我们可以**假设** linear operator 的 adjoint 对应的是 dynamical variable 的 conjugate complex，也可以因此称 adjoint 为 conjugate complex linear operator。

如果 $\bar{\alpha}=\alpha$，也就是 self adjoint，他对应了一个 **real dynamical variable**，我们也称它为 real linear operator。linear operator 可以分成 real 不分和 imaginary 部分，所以我们用 conjugate complex 而不是 conjugate imaginary 来描述对它的共轭操作。

linear operator 有很多类似复数的特性，例如我们可以得到 $\xi\eta+\eta\xi$ 和 $i(\xi\eta-\eta\xi)$ 是实的。还有，因为 $\langle P|A\rangle\langle B|$ 的 conguate imaginary 是：

$$
\overline{\langle P|A\rangle}|B\rangle=\langle A|P\rangle|B\rangle=|B\rangle\langle A|P\rangle
$$
所以有：
$$
\overline{|A\rangle\langle B|}=|B\rangle\langle A|
$$
**定理**：如果 $\xi$ 是 real linear operator，且对于整数 $m>0$，有 $|P\rangle$ 满足
$$
\xi^m|P\rangle=0
$$
则：
$$
\xi|P\rangle=0
$$
证明方式是利用 $\langle P|\xi^2|P\rangle=0$。

## 2.9 Eigenvalue and eigenvectors

我们只考虑 real linear operator 的特征值和特征向量，即：
$$
\xi|P\rangle=a|P\rangle\\
\langle Q|\xi=\langle Q|b
$$
会发现有这样的特点：

1. 特征值为实数。因为：
   $$
   \begin{aligned}
   \langle P|\xi|P\rangle&=a\langle P|P\rangle\\
   \bar{a}\langle P|P\rangle &= \overline{\langle P|\xi|P\rangle}=\langle P|\bar{\xi}|P\rangle\\
   &=\langle P|\xi|P\rangle=a\langle P|P\rangle
   \end{aligned}
   $$

2. eigenvalue 对应的 eigenket 和 eigenvalue 对应的 eigenbra 是相同的

3. eigenket 的 conjugate imaginary 是相同 eigenvalue 的 eigenbra，所以我们可以称他们为 eigenstate

对于算子 $\xi$，我们一般用 $\xi',\xi'',\xi^r$ 表示特征值，而用 $|\xi'\rangle$ 表示 $\xi'$ 对应的 eigenket。

**定理**：real dynamical variable 的 2 个不同的 eigenvalue 对应的 eigenvector 相互垂直。这个定理被称为 **orthognality theorem**。

## 2.10 Observables

我们**假设**，任何我们可以观测的 dynamical variable 都是 real dynamical variable。虽然 complex dynamical variable 好像可以通过 2 次测量得到，但是在量子李学忠，由于 2 次观察会相互干扰，所以没法进行同时的 2 次观察。不过注意，这个假设反过来并不对，不是所有 real dynamical variable 都可以被观测。

我们继续**假设**，如果一个 dynamic system 在一个 real dynamical variable $\xi$ 的 eigenstate 上，其特征值为 $\xi'$，则它的观测值将会是 $\xi'$。反之，如果观测值为 $\xi'$，则状态为 $\xi$ 的 eigenstate 上。

另外，为了 physical continuity，我们假设在第一次观测后马上进行第二次观测，两次的结果应该是相同的。我们也可以结合叠加态来推理得到，任何对 real dynamical variable 的观测结果总会是他的特征值。反过来说，所有特征值都有可能是测量结果。所以特征值的物理意义就是可能的测量结果。我们继续**假设**，观测前的状态必须 dependent on 观测后的结果。

不是所有 real dynamical variable 都有足够的 eigenstate 来 form a complete set，所以我们认为不能的量就不能被测量。因此我们称 eigenstate 能 **form a complete set** 的 real dynamical variable 为 **observable**。所以可以被测量的就是 observable，那么反过来 observable 是否能被测量呢？理论上是可以的，但是实际是不是能构造出这样测量不好说。

observable $\xi$ 满足，任意 $|P\rangle$：
$$
|P\rangle=\int|\xi'c\rangle d\xi'+\sum_r|\xi^rd\rangle
$$
这里加了个 $c$ 和 $d$ 主要是为了区分 $\xi'$ 和 $\xi^r$ 相等的时候的 eigenket，因为同一个特征值可以有好多不同的 eigenket。

很多时候很难从数学上判断一个 dynamical variable 是否 observable，但是可以从物理上考虑，如果可以被测量，那么我们就自然假设其 observable，例如，我们可以假设，系统的能量总是 observable 的。

我们可以证明，如果一个 dynamic variable 满足一个代数方程（即多项式），那么他的特征值个数等于多项式阶数，且它 observable（这个证明是通过构造得到的）。例如，$|A\rangle\langle A|$ （$A$ 为 normalized ket）满足：
$$
\{|A\rangle\langle A|\}^2=|A\rangle\langle A|A\rangle\langle A|=|A\rangle\langle A|
$$
符合 $x^2-x=0$，所以其 observable，且其观测值只能是 1 或 0。

接下来我们考虑：
$$
|X\rangle=\int|\xi'x\rangle d\xi',\quad|Y\rangle=\int|\xi''y\rangle d\xi''
$$
那么：
$$
\langle X|Y\rangle = \int\int \langle \xi'x|\xi''y\rangle d\xi'd\xi''
$$
如果我们希望 $\langle X|Y\rangle\ne0$，那么会有 $\langle\xi'x|\xi'y\rangle\rightarrow\infty$。之前我们一直都在假设 scalar product 的结果是有限的，显然就不能有这个 range of eigenvalue 的情况了（对应着积分），我们的理论也就不适应很多实际场景，所以我们要假设：
$$
\int \langle\xi'x|\xi''x\rangle d\xi''>0,\quad\text{if}\ |\xi'x\rangle\ne0
$$
（这个式子我有点没理解...是指在什么情况下恒大于 0 呢？如果任何情况下都恒大于 0 的话，下面的证明的最后部分为啥不用呢）

原来的那种长度有限，scalar product 结果有限的空间在数学中称为希尔伯特空间。我们这里扩展使用一个更广泛的空间，让他俩都可以趋于无穷。

这样的结果使：
$$
|P\rangle=\int|\xi'c\rangle d\xi'+\sum_r|\xi^rd\rangle
$$
的**结果唯一**。注意这个证明不是很平凡，因为不能直接讨论上面的新假设（因为新假设里，积分对应的 dynamical variable 的拆分里只有积分）。这里记录一下证明方法：

- 用反证法，假设不唯一，则存在：
  $$
  0=\int|\xi'a\rangle d\xi'+\sum_s|\xi^sb\rangle
  $$
  这里 $a,b$ 都是新的 label，$s$ 是相减完剩下的部分。如果 $s$ 中有一个 eigenket 不在积分范围中，设它为 $|\xi^lb\rangle$，上式乘 $\langle \xi^lb|$，则会只剩下 $0=\langle \xi^lb|\xi^lb\rangle$，这与非 0 ket 长度大于 0 的假设相悖了。所以不存在这样的 $|\xi^lb\rangle$。

  类似地，如果积分不分存在一个 eigenvalue 不等于 $\xi^s$ 中的任何一项，那么我们可以选出来这样的一个特征值 $|\xi''a\rangle$ 其可以消掉求和的部分，得到的结果会违反 $\int \langle\xi''a|\xi'a\rangle d\xi'>0$ 。

  在剩下的情况中，我们从 $s$ 中选一个 $|\xi^lb\rangle$，会有：
  $$
  0=\int\langle \xi^lb|\xi'a\rangle d\xi'+\langle \xi^lb|\xi^lb\rangle
  $$
  如果我们从积分范围中取一个 $|\xi^la\rangle$（因为特征值相同的 eigenket 就只差一个常数系数，所以可以随便取），则有：
  $$
  0=\int\langle \xi^la|\xi'a\rangle d\xi'+\langle \xi^la|\xi^lb\rangle
  $$
  这里因为后面的式子的第一项有限，所以 $\langle \xi^la|\xi^lb\rangle$ 有限，所以 $\int\langle \xi^lb|\xi'a\rangle d\xi'=0$，所以 $\langle \xi^lb|\xi^lb\rangle=0$，矛盾了。证毕。

## 2.11 Functions of observables

考虑 $f(\xi)$，当我们测量到 $\xi$ 为 $\xi'$ 时，$f(\xi)$ 的观察值应该是 $f(\xi')$。对于一般性的函数，不太好从数学上证明这个式子，所以我们反过来，用这种方式来定义 $f(\xi)$：
$$
f(\xi)|\xi'\rangle=f(\xi')|\xi'\rangle\quad \text{for every eigenket }\xi'\text{ of }\xi
$$
简单推导，还有：
$$
\overline{f(\xi)}=\bar{f}(\xi)
$$
以及对于 bra 来说，有：
$$
\langle\xi'|f(\xi)=f(\xi')\langle\xi'|
$$
我们来看 2 个常见的例子。

- observable 的倒数（如果起特征值均非零）定义为：

  $$
  \alpha^{-1}|\alpha'\rangle=\alpha'^{-1}|\alpha'\rangle
  $$

  乘 $\alpha$，有：
  $$
  \alpha\alpha^{-1}|\alpha'\rangle=\alpha\alpha'^{-1}|\alpha'\rangle=|\alpha'\rangle\\
  \langle\alpha'|\alpha^{-1}\alpha=\alpha'^{-1}\langle\alpha'|\alpha=\langle\alpha'|
  $$
  所以我们有：
  $$
  \alpha\alpha^{-1}=1\\
  \alpha^{-1}\alpha=1
  $$
  反过来也可以用这两个式子中的一个来定义倒数。

- observable 的平方根（如果特征值均非负）定义为：
  $$
  \sqrt{\alpha}|\alpha'\rangle=\pm\sqrt{\alpha'}|\alpha'\rangle
  $$
  在实践中我们常只取正平凡根。

## 2.12 The general physical interpretation

第 10 节提到的物理阐释比较狭义，因为他只解释了 eigenstate。我们需要更为广义的解释。你可能会把观测 $\xi$ 的值定义为 $\langle x|\xi|x\rangle$，但是这样不行，因为假如说我们进一步做了观测 $\eta$，得到了 $\langle x|\eta|x\rangle$，从和经典系统类比的角度，我们会希望他们的乘积等于 $\langle x|\xi\eta|x\rangle$ 或 $\langle x|\eta\xi|x\rangle$ ，但显然这和我们前面对算子的定义有冲突了。

不过，如果我们定义 $\langle x|\xi|x\rangle$ 为观测的平均值，那么就没问题了，因为乘积的平均本就不等于平均的乘积。所以我们定义 $\langle x|\xi|x\rangle$ 为观测的平均值，前提是 $|x\rangle$ 已经 normalize 过了。

我们可以进一步考虑观测取不同值的概率。我们可以把事件是否发生作为一个 observable，这个事件的函数为 $f(\xi)=\delta_{\xi a}$，那么：
$$
P_a=\langle x|\delta_{\xi a}|x\rangle
$$
如果 $a$ 不是 $\xi$ 的特征值，那么 $\delta_{\xi a}=0,\ P_a=0$。

不过要注意，实际实验中，$\xi$ 是不可能完全等于 $\xi$ 的（总是要有误差的），所以这种等于特征状态的情况是一种数学上的理想化。（在 24 节和这里有呼应）

## 2.13 Commutability and compatibility

一个状态可能同时是 2 个 observable 的 eigenstate，即：
$$
\xi|A\rangle=\xi'|A\rangle,\quad\eta|A\rangle=\eta'|A\rangle
$$
这时我们有：
$$
\begin{aligned}
\xi\eta|A\rangle&=\eta\xi|A\rangle\\
(\xi\eta-\eta\xi)|A\rangle&=0
\end{aligned}
$$
我们定义 $\xi\eta-\eta\xi=0$ 的情况下，$\xi$ 和 $\eta$ 相互 commute。注意，不 commute 的情况下也可能会存在共同 eigenstate（simultaneous eigenstate）。

**定理**：如果 2 个 observable commute，他们的共同 eigenstate 可以 complete set。

- 我们考虑 $\eta$ 的一个 eigenket $|\eta'\rangle$ 可以利用 $\xi$ 的 eigenket 扩展为：
  $$
  |\eta'\rangle=\int|\xi'\eta'c\rangle d\xi'+\sum_r{|\xi^r\eta'd\rangle}
  $$
  那么有：
  $$
  0=(\eta-\eta')|\eta'\rangle=\int(\eta-\eta')|\xi'\eta'c\rangle d\xi'+\sum_r{(\eta-\eta')|\xi^r\eta'd\rangle}
  $$
  因为 commute，所以还有：
  $$
  \begin{aligned}
  \xi(\eta-\eta')|\xi^r\eta'd\rangle &=(\eta-\eta')\xi|\xi^r\eta'd\rangle=(\eta-\eta')\xi^r|\xi^r\eta'd\rangle\\
  &=\xi^r(\eta-\eta')|\xi^r\eta'd\rangle
  \end{aligned}
  $$
  即 $(\eta-\eta')|\xi^r\eta'd\rangle$ 是 $\xi$ 的一个 eigenket，类似的有 $(\eta-\eta')|\xi'\eta'c\rangle$ 也是。那么由于展开唯一的时候的证明，可以得到：
  $$
  (\eta-\eta')|\xi'\eta'c\rangle=0,\quad(\eta-\eta')|\xi^r\eta'd\rangle=0
  $$
  即所有能用来组成 $|\eta'\rangle$ 的 eigenket 都是共同 eigenket，而所有的 ket 都可以用 $|\eta'\rangle$ 组成，所以共同 eigenstate complete set。

后面我们会用证明中使用的 $|\xi'\eta'c\rangle$ 这样的形式来表示 2 个 observable 的共同 eigenstate。

**定理**：反过来也是，如果共同 eigenstate complete a set，则 2 个 observable commute。

- 证明方法是，因为 complete a set，加之 $(\xi\eta-\eta\xi)|\xi'\eta'\rangle=0$，所以任何 $|P\rangle$ 都有 $(\xi\eta-\eta\xi)|P\rangle=0$，即 $\xi\eta-\eta\xi=0$

2 个 observable 的结论可以继续扩充至多个 observable。例如我们可以定义，对于 $\xi,\eta,\zeta,\dots$ 这样的 commuting observables：
$$
f(\xi,\eta,\zeta,\dots)=f(\xi',\eta',\zeta',\dots)|\xi'\eta'\zeta'\dots\rangle
$$
以及：
$$
P_{abc...}=\langle x|\delta_{\xi a}\delta_{\eta b}\delta_{\zeta c}...|x\rangle
$$
从物理意义上，我们可以认为多个 commuting observables 是一次测量的多个数字结果，或者我们称这些 observation non-interfering or compatible。

# 3 Representations

## 3.14 Basic Vector

类似几何中使用数字坐标，我们也要考虑用如何把数字加进我们的抽象体系中。这种表示形式称为 representation，而在 representation 中一个抽象量的表达方式称为 representative。

我们取一个 complete set of bra vectors，称为 basic bra。我们可以用一个 ket 和 basic bra 的 scalar product 结果来表示它。例如对于一个只有 $n$ 个状态的系统来说，我们可以用 $1,2,3,...,n$ 来标记 $n$ 个 basic bra，那么对应的 representative 是：$\langle1|a\rangle,\langle2|a\rangle,\langle3|a\rangle,...,\langle n|a\rangle$。

更一般地，我们可以y用一组实数参数 $\lambda_1,\lambda_2,...\lambda_u$ **标记一个** basic bra，用 $\langle \lambda_1\lambda_2...\lambda_u|$ 表示，而那么对应的一个 ket 的 representative 则是 $\langle \lambda_1\lambda_2...\lambda_u|a\rangle$。（注意不是说一共有 $u$ 个 basic bra）

为了方便，我们要求 basic bra 相互独立，并相互正交，这种 representation 称之为 orthogonal representation。

考虑一个 $\langle \lambda_1\lambda_2...\lambda_u|b\rangle=\lambda_1\langle \lambda_1\lambda_2...\lambda_u|a\rangle$，这相当于 $|b\rangle$ 是 $|a\rangle$ 的 linear function 映射结果了，也就可以构建出 linear operator $L_1$，满足：
$$
 |b\rangle=L_1|a\rangle
$$
那么我们有：
$$
\begin{aligned}
\langle \lambda_1\lambda_2...\lambda_u|L_1|a\rangle&=\lambda_1\langle \lambda_1\lambda_2...\lambda_u|a\rangle\\
\langle \lambda_1\lambda_2...\lambda_u|L_1&=\lambda_1\langle \lambda_1\lambda_2...\lambda_u|
\end{aligned}
$$
也就是说，所有 eigen bra 都是 $L_1$ 的 eigenbra，$\lambda_1$ 是特征值。

由于 basic bra 相互垂直，可以得到 $L_1$ 是实的，同时是一个 observable，证明如下：

- 令 $\lambda_1',\lambda_2',...\lambda_u'$ 和 $\lambda_1'',\lambda_2'',...\lambda_u''$ 分别是参数 $\lambda_1,\lambda_2,...\lambda_u$ 的 2 组取值，那么有：
  $$
  \begin{aligned}
  \langle\lambda_1'\lambda_2'...\lambda_u'|L_1|\lambda_1''\lambda_2''...\lambda_u''\rangle &= \lambda_1''\langle\lambda_1'\lambda_2'...\lambda_u'|\lambda_1''\lambda_2''...\lambda_u''\rangle\\
  \langle\lambda_1''\lambda_2''...\lambda_u''|L_1|\lambda_1'\lambda_2'...\lambda_u'\rangle &= \lambda_1'\langle\lambda_1'\lambda_2'...\lambda_u''|\lambda_1'\lambda_2'...\lambda_u'\rangle
  \end{aligned}
  $$
  因为 basic bra 相互正交，所以只有在整个表达完全相同的情况下（$\forall r\in1,2,...,u,\ \lambda_r''=\lambda_r'$）的时候，右侧才非 0，此时左侧相等，也就有了 $L_1=\overline{L}_1$，所以是实的，因为 basic bra 都是他的 eigenbra，所以是 observable。

类似地我们可以定义 $L_2,L_3,...,L_u$，因为所有  basic bra 都是 $L$ 们的共同 eigenbra，所以他们相互 commute。由此，我们希望得到：

**定理**：如果 $\xi_1,\xi_2,...,\xi_u$ 是一组 commuting observables，我们可以对应的建立 orthogonal representation，其中的 basic bras 是 $\xi_1,\xi_2,...,\xi_u$ 的共同 eigenbra。

- 如果固定一组特征值 $\xi_1',\xi_2',...\xi_u'$，只有 1 个 independent simultaneous eigenbra。也就是，只有一个 $\langle A|$ 满足
  $$
  \forall i\in1,2,...,u,\ \langle A|\xi_i=\xi_i'\langle A|
  $$
  那么我们可以直接选所有的 simultaneous eigenbra，根据 13 节的结论，他们 complete a set。而且他们中任何两个对应的特征值组中，肯定有一个不相等，也就可以证明他们是相互正交的。

  如果固定一组特征值，有多个 independent simultaneous eigenbra。我们可以现在每一组特征组对应的 simultaneous eigenbra 中找到一些能 complete 这一组的 set 且相互正交的 eigenbra。（书里没说怎么取）

在上述的后一种情况下，我们可以用 $\xi_1',\xi_2',...\xi_u'$ 来标记特征值组，用 $\lambda_1,\lambda_2,...\lambda_v$ 来区分每个组里选的 eigenbra。所以 basic bra 就写作 $\langle\xi_1'\xi_2'...\xi_u'\lambda_1\lambda_2...\lambda_v|$。然后我们可以随着 $\lambda$ 定义 $L_1,L_2,...L_v$，我们会观察到这些 $L$ 与 $\xi$ commute（因为 eigenbra complete a set 了）。这样 basic bra 就是 $\xi_1’,\xi_2,...\xi_u,L_1,L_2,...L_v$ 的共同 observables 了。（注意，这里给出了从一组 commuting observable 怎么构建出 complete commuting observable）

我们**定义 a complete set of commuting observables** 是指一个 observable 集合，他们之间两两 commuting，对于一组特征值 只有 1 个 independent simultaneous eigenbra。那么上面证明中使用的 $\xi_1,\xi_2,...,\xi_u,L_1,L_2,...,L_v$ 就是 a complete set of commuting observables，对应的特征值是 $\xi_1‘,\xi_2’,...,\xi_u‘,\lambda_1,\lambda_2,...,\lambda_v$，也就是对应了 eigenbra。类似的 $\langle \lambda_1\lambda_2...\lambda_u|L_1=\lambda_1\langle \lambda_1\lambda_2...\lambda_u|$  中的 $L_1,L_2,...,L_u$ 也是 a complete set of commuting observable，对应的 eigenbra 是 $\langle \lambda_1\lambda_2...\lambda_u|$。

由这个定义，我们可以将这节的主要结论总结为：

1. orthogonal representation 的 basic bras 是 a complete set of commuting observable 的 simultaneous eigenbra
1. 给 a complete set of commuting observable，我们可以建立起一个 orthogonal representation，其中的 basic bras 是这个 complete set of commuting observable 的 simultaneous eigenbras
1. 任何 commuting observables 可以通过增加 observables 来变成 a complete set of commuting observable
1. 可以用特征值来标记 basic bras，这个特征值是指 basic bras 对应的 a complete set of commuting observable 的特征值。

basic bras 的 conjugate imaginaries 是 basic kets。我们有：
$$
\langle b|\lambda_1\lambda_2...\lambda_u\rangle=\overline{\langle \lambda_1\lambda_2...\lambda_u|b\rangle}
$$
下一节我们来考虑怎么处理 basic bra 的长度。

## 3.15 The $\delta$ function

我们定义：
$$
\begin{aligned}
\int_{-\infty}^{\infty}\delta(x)dx&=1\\
\delta(x)&=0\text{, for }x\ne0
\end{aligned}
$$
根据这个定义，可以得到最重要的一个特性：
$$
\begin{aligned}
\int_{-\infty}^{\infty}f(x)\delta(x)dx=f(0)
\end{aligned}
$$
我们还可以用下面的方式来定义 $\delta$：
$$
\begin{aligned}
\epsilon(x)=0\quad(x<0)\\
\epsilon(x)=1\quad(x>0)
\end{aligned}
$$
而 $\delta(x)=\epsilon'(x)$。

下面是 $\delta$ 的其他一些特性：
$$
\begin{aligned}
\delta(x)&=\delta(-x)\\
x\delta(x)&=0\\
\delta(ax)&=a^{-1}\delta(x)\\
\delta(x^2-a^2)&=\frac{1}{2}a^{-1}\{\delta(x+a)+\delta(x-a)\}\quad(a>0)\\
\int\delta(x-a)dx\delta(x-b)&=\delta(a-b)\\
f(x)\delta(x-a)&=f(a)\delta(x-a)
\end{aligned}
$$

## 3.16 Properties of the basic vectors

**假设我们有一个 observable** $\xi$，它自己形成了一个 compete commuting set，也就是它的每个特征值 $\xi'$ 只有一个 eigenstate。这样对应的 orthogonal representation 就是 $\langle\xi'|$。这种情况下，如果所有的特征值都是**离散**的，那么我们可以 normalize basic bra，也就有：
$$
\langle\xi'|\xi''\rangle=\delta_{\xi'\xi''}
$$
其中：
$$
\begin{aligned}
\delta_{rs}&=0\quad\text{when }r\ne s\\
&=1\quad\text{when }r= s
\end{aligned}
$$
从上式，我们有：
$$
\sum_{\xi'}|\xi'\rangle\langle\xi'|\xi''\rangle=\sum_{\xi'}|\xi'\rangle\delta_{\xi'\xi''}=|\xi''\rangle
$$
由于这个式子对所有特征值 $\xi''$ 都成立，我们有：
$$
\sum_{\xi'}|\xi'\rangle\langle\xi'|=1
$$
如果特征值是**连续**的，我们不能 normalize basic bra，我们会有：
$$
\begin{aligned}
\langle\xi'|\xi''\rangle &= c'(\xi')\delta(\xi'-\xi'')\\
\langle\xi'|\xi''\rangle &= c''(\xi'')\delta(\xi'-\xi'')
\end{aligned}
$$
因为 $\delta$ 的特性，所以实际上这两个式子的右边是相等的。

我们接下来考虑一组新的 basic bra，他们和原来的只差一个系数，也就是：
$$
\langle\xi'^*|=k'\langle\xi'|,\quad|\xi'^*\rangle=\overline{k'}|\xi'\rangle
$$
这时我们有：
$$
\langle\xi'^*|\xi''^*\rangle = k'\overline{k''}c\delta(\xi'-\xi'')
$$
由 $\delta$ 的形式，我们可以在式子中将 $k''$ 替换为 $k'$。

如果我们取 $||k’||=c'^{-1}$，也就是适当地调整长度，就可以有简化版的表达形式：
$$
\langle\xi'^*|\xi''^*\rangle = \delta(\xi'-\xi'')
$$
类似于离散的情况，我们有：
$$
\int|\xi'\rangle d\xi'\langle\xi'|=1
$$
**综合起来**，我们可以有（这里的推导我没太细看...）：
$$
\sum_{\xi^r}|\xi^r\rangle\langle\xi^r| + \int|\xi'\rangle d\xi'\langle\xi'|=1
$$
这也就意味着任意 $|P\rangle$ 可以表示为：
$$
|P\rangle =\sum_{\xi^r}|\xi^r\rangle\langle\xi^r|P\rangle + \int|\xi'\rangle d\xi'\langle\xi'|P\rangle
$$
且 $\langle Q|P\rangle$ 为：
$$
\langle Q|P\rangle =\sum_{\xi^r}\langle Q|\xi^r\rangle\langle\xi^r|P\rangle + \int\langle Q|\xi'\rangle d\xi'\langle\xi'|P\rangle
$$
也就是可以用 representative 的 scalar product 表达 ket 与 bra 的 scalar product。

我们继续考虑有一组 commuting observables $\xi_1,\xi_2,...,\xi_u$ 组成了 complete commuting set。他们组成的 orthogonal representation 将是 $\langle \xi'_1...\xi'_u|$，$|\xi'_1...\xi'_u\rangle$。我们进一步假设其中的 $\xi_1,\xi_2,...,\xi_v$ 的特征值是离散的，$\xi_{v+u},...,\xi_u$ 的特征值是连续的。

大致推导一下，我们可以有：
$$
\langle \xi'_1...\xi'_u|\xi''_1...\xi''_u\rangle=\delta_{\xi'_1\xi''_1}..\delta_{\xi'_v\xi''_v}\delta(\xi'_{v+1}-\xi''_{v+1})..\delta(\xi'_u-\xi''_u)
$$
同样，有这样的推广结果：
$$
\sum_{\xi'_1..\xi'_v}\int..\int|\xi'_1...\xi'_u\rangle d\xi'_{v+1}..d\xi'_u\langle \xi'_1...\xi'_u|=1
$$
在一些特殊情况下，我们会把上面的两个式子调整为：
$$
\begin{aligned}
&\langle \xi'_1...\xi'_u|\xi''_1...\xi''_u\rangle=\rho'^-1\delta_{\xi'_1\xi''_1}..\delta_{\xi'_v\xi''_v}\delta(\xi'_{v+1}-\xi''_{v+1})..\delta(\xi'_u-\xi''_u)\\
&\sum_{\xi'_1..\xi'_v}\int..\int|\xi'_1...\xi'_u\rangle\rho' d\xi'_{v+1}..d\xi'_u\langle \xi'_1...\xi'_u|=1
\end{aligned}
$$
例如在极坐标的情况下，可以去 $\rho'=\sin{\theta'}$，来把积分项变成 $\sin{\theta'}d\phi'd\theta'dr$。

## 3.17 The representation of linear operator

我们接下来考虑 linear operator。还是先考虑一个 $\xi$ 组成一组 compute commuting set 的情况。同时进一步考虑只有**离散**的特征值。那么 $\langle \xi'|\alpha|\xi''\rangle$ 的值就定义了 $\alpha$。所以我们可以用这样的矩阵形式表示：
$$
\begin{bmatrix}
\langle\xi^1|\alpha|\xi^1\rangle & \langle\xi^1|\alpha|\xi^2\rangle & \langle\xi^1|\alpha|\xi^3\rangle & . & .\\
\langle\xi^2|\alpha|\xi^1\rangle & \langle\xi^2|\alpha|\xi^2\rangle & \langle\xi^2|\alpha|\xi^3\rangle & . & .\\
\langle\xi^3|\alpha|\xi^1\rangle & \langle\xi^3|\alpha|\xi^2\rangle & \langle\xi^3|\alpha|\xi^3\rangle & . & .\\
...&...&...&.&.\\
...&...&...&.&.
\end{bmatrix}
$$
其中 $\xi_1,\xi_2,\xi_3,...$ 是特征值。如果 $\alpha$ 是实的，我们有：
$$
\langle\xi' | \alpha | \xi''\rangle=\langle\xi''|\alpha|\xi'\rangle
$$
对应上面的矩阵就是对角元素为实，和对角线对称的元素互为共轭。这种矩阵我们称之为 Hermitian matrix。

如果 $\alpha=\xi$ ，或者更一般地，$\alpha=f(\xi)$ 矩阵就成了对角矩阵，矩阵的每个元素的值为 $f(\xi')\delta_{\xi'\xi''}$。

由上一节的结论，我们有：
$$
\begin{aligned}
\langle\xi'|\alpha\beta|\xi''\rangle&=\langle\xi'|\alpha\sum_{\xi'''}{|\xi'''\rangle\langle\xi'''|\beta|\xi''\rangle}\\
&=\sum_{\xi'''}{\langle\xi'|\alpha|\xi'''\rangle\langle\xi'''|\beta|\xi''\rangle}
\end{aligned}
$$
所以线性算子的乘积等于对应的矩阵乘积。

总结一下，当**只有一个 $\xi$ 且特征值离散**的时候，有：

1. 任何线性算子都可以用一个矩阵表示；
2. unit operator 对应了 unit matrix；
3. real linear operator 对应了Hermitian matrix；
4. $\xi$ 和 $f(\xi)$ 对应对角矩阵；
5. 2 个 linear operator 的乘积对应他们各自对应的矩阵的乘积

考虑**连续特征值**时，$\alpha$ 的 representative 是 $\langle\xi'|\alpha|\xi''\rangle$，我们可以称这样对应的为广义的 matrix。我们会发现，上面的 5 项也都成立（这里的证明我没细看，但是直观感觉是比较明显的）。具体来说，公式上，有：
$$
\begin{aligned}
\langle\xi'|f(\xi)|\xi''\rangle&=f(\xi')\delta(\xi'-\xi'')\\
\langle\xi'|\alpha\beta|\xi''\rangle&=\int\langle\xi'|\alpha|\xi'''\rangle d\xi''' \langle\xi'''|\beta|\xi''\rangle
\end{aligned}
$$
上面的第二个式子定义了广义的矩阵乘。

不过在定义广义的对角矩阵的时候，我们希望保持广义的对角矩阵能和其他的对角矩阵相互 commute。因此**我们限定对角矩阵满足**
$$
\langle\xi'|w|\xi''\rangle=c'(\xi')\delta(\xi'-\xi'')
$$
同时有离散和连续特征值的情况可以简单地推广，这里就不展开了。

那么对于有 $\xi_1,\xi_2,...,\xi_u$ 的情况，$\alpha$ 的 representative 仍然可以看作一个 matrix。其中不同行对应了不同的 $\xi'_1,...,\xi'_u$，不同列对应了不同 $\xi''_1,...,\xi''_u$，我们可以类似的定义以满足上面的 5 条规则，不过其中第 4 条要转为：

4. 任何 $\xi_m\ (m=1,2,...,u)$ 或他们的函数都可以被表示为一个对角矩阵。

   此时的对角矩阵定义为：
   $$
   \langle\xi'_1...\xi'_u|w|\xi''_1...\xi''_u\rangle=c'\delta_{\xi_1'\xi_1''}..\delta_{\xi'_v\xi''_v}\delta(\xi'_{v+1}-\xi''_{v+1})..\delta(\xi'_{u}-\xi''_{u})
   $$

伴随着比较 trivial 的 linear operator 的相加对应了他们对应的矩阵之和，我们有 linear operator 和矩阵由相同的 algebraic relation。

我们可以进一步延伸，将 ket 表示为一个单列的矩阵，其中每行的元素为 $\langle\xi'_1...\xi'_u|P\rangle$，bra 则是单行，每列的元素为 $\langle Q|\xi'_1...\xi'_u\rangle$。注意这种定义顺便还给了 $|P\rangle\langle Q|$ 的矩阵定义。

## 3.18 Probability amplitudes

由 13 节的结论，我们有：
$$
P_{\xi'_1...\xi'_u}=\langle x|\delta_{\xi_1\xi'_1}...\delta_{\xi_u\xi'_u}|x\rangle
$$
如果 $\xi$ 只有**离散**特征值，那么我们有：
$$
\begin{aligned}
P_{\xi'_1...\xi'_u}&=\sum_{\xi''_1...\xi''_u}\langle x|\delta_{\xi_1\xi'_1}...\delta_{\xi_u\xi'_u}|\xi''_1...\xi''_u\rangle \langle \xi''_1...\xi''_u|x\rangle\\
&=\sum_{\xi''_1...\xi''_u}\langle x|\delta_{\xi_1''\xi'_1}...\delta_{\xi_u''\xi'_u}|\xi''_1...\xi''_u\rangle \langle \xi''_1...\xi''_u|x\rangle\\
&=\langle x|\xi'_1...\xi'_u\rangle\langle\xi'_1...\xi'_u|x\rangle\\
&=|\langle\xi'_1...\xi'_u|x\rangle|^2
\end{aligned}
$$
所以概率即为平方和。

对于**部分离散部分连续**特征值的情况，我们则有：
$$
P_{\xi'_1...\xi'_u}d\xi'_{v+1}..d\xi'_u=|\langle\xi'_1...\xi'_u|x\rangle|^2d\xi'_{v+1}..d\xi'_u
$$
因此，我们可以称一个 normalized ket 或 bra 的 prepresentative 为 probability amplitudes，它的 square of modulus 为对应的概率或概率密度。当 $|x\rangle$ 不能被 normalize 时，因为合起来会发散，我们称 $\langle\xi'_1...\xi'_u|x\rangle$ 为 relative probablity amplitutdes。

上面的概率等式只有在 basic vector 是 $\xi$ 们的 simultaneous eigenvector 的时候才成立。这个时候所有的 $\xi$ 都是对角矩阵（这个条件是当且仅当的）。所以我们可以称这种情况为 $\xi$ **diagnoal in the representation**。

在实践中，

1. 我们会希望要考虑的 observable 是 diagonal 的，因为这样可以算概率，数学上也简单些；
2. 我们会注意到他们相互 commute；
3. 我么你之后会发现他们可以组成 a complete commuting set（不过不够的话我们可以添加一些使得其 complete）；
4. 我们用这个 complete commuting set 来构造 orthogonal representation。

这样定义的 representation 除去一个 phase factor（$e^{i\gamma}$，因为 phase factor 的长度为 1）之外被确定下来了，因为大多是情况下 phase factor 都无所谓，所以我们可以认为 representation 被 diagonal observables 完全确定下来了。另一方面，我们本来就是用 diagonal observables 来表示的 basic vectors，所以也就呼应上了。

我们可能会对同一个动力学系统中的 2 个不同的 representation 感兴趣。我们会有这样的转换方程：
$$
\begin{aligned}
\langle\eta'_1...\eta'_w|P\rangle&=\sum_{\xi'_1..\xi'_v}\int..\int\langle\eta'_1...\eta'_w|\xi'_1..\xi'_u\rangle d\xi'_{v+1}..d\xi'_u\langle\xi'_1..\xi'_u|P\rangle\\
\langle\xi'_1...\xi'_u|P\rangle&=\sum_{\eta'_1..\eta'_x}\int..\int\langle\xi'_1...\xi'_u|\eta'_1..\eta'_w\rangle d\eta'_{x+1}..d\eta'_w\langle\eta'_1..\eta'_w|P\rangle
\end{aligned}
$$
也就是我们只需要 $\langle\eta'_1...\eta'_w|\xi'_1..\xi'_u\rangle,\langle\xi'_1...\xi'_u|\eta'_1..\eta'_w\rangle$ 这些系数就可以进行转换了，我们称这些量为 **transformation functions**。

（这一节最后有一个关于变换的非平凡的结论）

## 3.19 Theorems about functions of observables

**定理**：一个和 observable $\xi$ commute 的 linear operator $w$ 也和 $\xi$ 的任何函数 commute

- 因为我们有：
  $$
  \xi w-w\xi=0
  $$
  考虑一个让 $\xi$ diagonal 的 representation。如果 $\xi$ 自己不能构成 a complete commuting set，那么我们需要增加一些 observable，我们称这些增加的 observable 为 $\beta$。那么上面的式子就变成了：
  $$
  \langle\xi'\beta'|\xi w-w\xi|\xi''\beta''\rangle=0
  $$
  即：
  $$
  (\xi'-\xi'')\langle\xi'\beta'|w|\xi''\beta''\rangle=0
  $$
  也就是：
  $$
  (\xi'-\xi'')\langle\xi'\beta'|w|\xi''\beta''\rangle=0
  $$
  对应到不管是连续特征值还是离散特征值的定义，我们都可以得到 **$w$ 是 diagonal with repsect to $\xi$**。

  从这个式子，我们也可以得到：
  $$
  (f(\xi')-f(\xi''))\langle\xi'\beta'|w|\xi''\beta''\rangle=0
  $$
  反着推，就有 $f(\xi)w-wf(\xi)=0$，证毕。

从物理上考虑，这也是非常合理的，因为如果 2 个 observation compatible。那么因为我们可以同时计算出他们两个的函数的值，所以他们的函数的值也应该是和他俩 compatible 的。

**定理**：一个和 complete set of commuting observable commutes 的 linear operator 一定是这些 observable 的函数。

- 可以用 $w$ 的 diagonal element 来构造这个函数（作为这个函数的定义）。

**定理**：如果任意和 observable $\xi$ commute 的 linear operator 都和 linear operator $g$ commute，那么 $g$ 是 $\xi$ 的函数。

- 这是这一节第一个定理的反定理，我们使用和第一个定理相同的 representation。我们注意到，$g$ 和 $\xi$ 一定相互 commute，所以 $g$ 在这个 representation 下也是 diagonal matrix（见定理一证明）。

  （这里定理证明我没看完。。。）

定理一和定理三在我们把 $\xi$ 换成一组 commuting observable $\xi_1,\xi_2,...,\xi_r$ 时也成立。

## 3.20 Developments in notation

上述的 representation 中任意 ket $|P\rangle$ 都可以用一组 complete commuting set of observables $\xi_1,...,\xi_u$ 表示为 $\langle\xi'_1...\xi'_u|P\rangle$，或者我们简写为 $\langle\xi'|P\rangle$。这个 representative 是 $\xi'$ 的函数，我们称为 $\psi(\xi')$。我们就有 $\psi$ 完全定义了 $|P\rangle$。所以我们既可以直接用 $\psi$ 来标记 $|P\rangle$，也就是：
$$
\begin{aligned}
\langle\xi'|P\rangle&=\psi(\xi')\\
|P\rangle&=|\psi(\xi)\rangle
\end{aligned}
$$
进一步我们有：
$$
\langle\xi'|f(\xi)|P\rangle=f(\xi')\langle\xi'|P\rangle=f(\xi')\psi(\xi')
$$
根据上面的定义，也就得到了：
$$
\begin{aligned}
f(\xi)|P\rangle&=|f(\xi)\psi(\xi)\rangle\\
f(\xi)|\psi(\xi')\rangle&=|f(\xi)\psi(\xi)\rangle
\end{aligned}
$$
也就是对于这种新的表达方式，那个竖线在哪里都一样，也就不需要加这个竖线了。所以我们有：
$$
|P\rangle=\psi(\xi)\rangle
$$
还可以进一步缩减为 $\psi\rangle$。

我们可以认为 $\psi(\xi)\rangle$ 是 $\psi(\xi)$ 乘一个 standard ket $\rangle$，所以任何 ket 都可以被当成是一个 $\xi$ 的函数乘 standard ket。例如 basic ket $|\xi''\rangle$ 就可以表达为：
$$
|\xi''\rangle=\delta_{\xi_1\xi''_1}..\delta_{\xi_v\xi''_v}\delta(\xi_{v+1}-\xi''_{v+1})..\delta(\xi_u-\xi''_u)
$$
standard ket 可以理解为 $\psi=1$。

我们可以进一步收缩 ket 的表达形式为 $\psi(\xi)$，这样的表达形式称为**波函数（wave function）**。所以在使用波函数的时候，要注意其实右边是有一个 standard ket 的，所以**不能在右侧乘 operator**。也因为波函数是 ket 的 representative，所以他的 square of modulus 会得到概率。

我们可以用类似的方式来表示 bra，例如用 $\langle\phi(\xi)|$ 表示 $\langle Q|$。在这种表示方法下，$|\psi(\xi)\rangle$ 的 conjugate imaginary  是 $\langle\bar{\psi}(\xi)$。同样，我们可以把表达形式缩减为 $\langle\phi(\xi)$，并定义 standard bra $\langle$。standard bra 是 standard ket 的 conjugate imaginary。进一步，我们也可以仅用 $\phi(\xi)$ 表示 bra，对应 the conjugate imaginary aof a wave function，只能在右边乘 operator。

我们还可以构建出 $\langle f(\xi)\rangle$，他是一个数，对应：
$$
\langle f(\xi)\rangle=\sum_{\xi'_1..\xi'_v}\int..\int f(\xi') d\xi'_{v+1}..d\xi'_u
$$
我们接下来**讨论一下为啥需要扩展 notation**。假设有一个 dynamical system，用来表述它的 dynamical variable 可以被分为 $A,B$ 2 个集合，其中 $A$ 中任意的元素和 $B$ 中任意元素 commute。我们接下来考虑一个只用 $A$ 就能表示的 dynamical system，称为 A-system，以及一个只用 $B$ 就能表示的，称为 B-system。那么原来的 dynamical system 可以被看做 A-system 和 B-system 的组合，且有如下的 mathematical scheme：

取 A-system 中的一个 ket $|A\rangle$ 和 B-system 中的一个 $|B\rangle$，我们定义一个满足交换律和分配率的乘法 $|a\rangle|b\rangle$，即：
$$
\begin{aligned}
|a\rangle|b\rangle&=|b\rangle|a\rangle\\
\{c_1|a_1\rangle+c_2|a_2\rangle\}|b\rangle&=c_1|a_1\rangle|b\rangle+c_2|a_2\rangle|b\rangle\\
|a\rangle\{c_1|b_1\rangle+c_2|b_2\rangle\}&=c_1|a\rangle|b_1\rangle+c_2|a\rangle|b_2\rangle
\end{aligned}
$$
然后我么定义 A-variable 只会作用于 $|a\rangle$，B-variable 只会作用于 $|b\rangle$，这使得 A-variable 和 B-variable commute。

所以任何 dynamical variable 都可以作用于 $|a\rangle|b\rangle$，那么我们可以把这个乘法看作是原来的系统的一个 ket，或者说：
$$
|a\rangle|b\rangle=|b\rangle|a\rangle=|ab\rangle
$$
我们继续取 A-system 中的 complete set of variable $\xi_A$ 且为 diagonal，B-system 中的 $\xi_B$，我们就分别对 A-system 和 B-system 有 basic bra $\langle\xi'_A|$ 和 $\langle\xi'_B|$，且乘积：
$$
\langle\xi'_A|\langle\xi'_B|=\langle\xi'_A\xi'_B|
$$
是原系统的 basic bra，其中 $\xi'_a,\xi'_B$ 均为 diagonal。我们还有：
$$
\langle\xi'_A|a\rangle\langle\xi'_B|b\rangle=\langle\xi'_A\xi'_B|ab\rangle
$$
也就是 $|ab\rangle$ 的 representative 的为 $|a\rangle$ 和 $|b\rangle$ 的 representative 的乘积。

我们可以定义 standard ket $\rangle_A$ 和 $\rangle_B$，分别对应了 representation $\xi_A$ 和 $\xi_B$，那么他们的乘积 $\rangle_A\rangle_B$ 则是原系统的 standard ket，对应 representation $\xi_A$ 和 $\xi_B$。所以任意原系统的 ket 可以被表示为：
$$
\psi(\xi_A\xi_B)\rangle_A\rangle_B
$$
在一些情况下，我们可能不想定义 A-system 的 standard ket，这时我们可以将原系统的 ket 定义为 $|\xi_B\rangle\rangle_B$，只要：
$$
|\xi_B\rangle=\psi(\xi_A\xi_B)\rangle_A
$$
这样我们就可以把系统分解为 A-system 的 $|\xi_B\rangle$ 和 B system 的 wave function $\xi_B$。在 66 节中有这种 notation 的例子。

上述的表达方式可以进一步拓展，类似于定义：
$$
|a\rangle|b\rangle|c\rangle...=|abc...\rangle
$$
（这里我没太看懂。。。但是从侧面可以看出来一个系统是如何分解成 2 个相互不耦合的系统的）

# 4 The Quantum Conditions

## 4.21 Posisson brackets

我们接下来定义不满足交换律的算子之间的关系（$\xi\eta-\eta\xi$），这种关系我们称为 **quantum conditions**，或者 commutation relations。不同的动力学系统会有不同的 quantum conditions，不过很多情况下，我们会和经典场景进行类比来得到对应的结果。

在经典动力学理论中，有一个概念叫 Poisson Bracket（下称 P.B.），他是指：
$$
[u,v]=\sum_r{\{\frac{\partial u}{\partial q_r}\frac{\partial u}{\partial p_r}-\frac{\partial u}{\partial p_r}\frac{\partial v}{\partial q_r}\}}
$$
P.B 的特点是：
$$
\begin{aligned}
{[u,v]}&=-[v,u]\\
[u,c]&=0\\
[u_1+u_2,v]&=[u_1,v]+[u_2,v]\\
[u,v_1+v_2]&=[u,v_1]+[u,v_2]\\
[u_1u_2,v]&=[u_1,v]u_2+u_1[u,v_2]\\
[u,v_1v_2]&=[u,v_1]v_2+v_1[u,v_2]\\
[u,[v,w]]+[v,[w,u]]+[w,[u,v]]&=0
\end{aligned}
$$
下面我们来尝试构建一个 quantum P.B.。我们**希望** quantum P.B. 能有上面的这些性质。我们注意到：
$$
\begin{aligned}
{[u_1u_2,v_1v_2]}&=[u_1,v_1v_2]u_2+u_1[u_2,v_1v_2]\\
&=[u_1,v_1]v_2u_2+v_1[u_1,v_2]u_2+u_1[u_2,v_1]v_2+u_1v_1[u_2,v_2]\\
&=[u_1u_2,v_1]v_2+v_1[u_1u_2,v_2]\\
&=[u_1,v_1]u_2v_2+u_1[u_2,v_1]v_2+v_1[u_1,v_2]u_2+v_1u_1[u_2,v_2]
\end{aligned}
$$
也就是：
$$
[u_1,v_1](u_2v_2-v_2u_2)=(u_1v_1-v_1u_1)[u_2,v_2]
$$
由于上式对所有 $u,v$ 都成立，所以有：
$$
\begin{aligned}
u_1v_1-v_1u_1&=i\hbar[u_1,v_1]\\
u_2v_2-v_2u_2&=i\hbar[u_2,v_2]
\end{aligned}
$$
这里 $\hbar$ 明显是不依赖 $u_1,v_1,u_2,v_2$ 的，所以他是个数。我们还希望 P.B. 是 real 的，加上第 8 节的结论，$i(\xi\eta-\eta\xi)$ 是 real operator，所以 $\hbar$ 是实数。这样我们就有了 quantum P.B. 的定义：
$$
uv-vu=i\hbar[u,v]
$$
为了让理论和实践匹配，我们取 $\hbar=h/2\pi$。

那么下一步我们来考虑 quantum P.B. 的式子是啥。我们希望保证在简单情况下，量子 P.B. 的指和经典情况下相同，即：
$$
[q_r,q_s]=0,[p_r,p_s]=0,[q_r,p_s]=\delta_{rs}
$$
对应地也有：
$$
\begin{aligned}
q_rq_s-q_sq_r&=0\\
p_rp_s-p_sp_r&=0\\
q_rp_s-p_sq_r&=i\hbar\delta_{rs}
\end{aligned}
$$
这些称为 fundamental quantum conditions。这几个条件可以有效的帮我们找到有 classic analogue 的动力学系统的 quantum condition。

## 4.22 Schodinger's representation

考虑有 $n$ 个自由度的动力学系统，他们的 canonical coordinates 和 momenta 为 $q_r$，$p_r$，我们**假设 $q_r$ 均可观测，且其特征值连续**（对应实际物理意义中，位移可以被观察在任何位置）。让我们用 $q$ 建立 representation，在其中 $q$ 为 diagonal。并且**暂时假设各个 q 组成了 a complete commuting set，后面会证明**（这里原文说 pretty obvious from inspection that they do，但是我有点不理解...难道是说类似于可以用 3 个维度建立坐标系吗？）。下面我们考虑 $n=1$，有：
$$
qp-pq=i\hbar
$$
任何 ket 可以表示为 $\psi(q)\rangle$，然后我们可以对应地得到 $d\psi/dq\rangle$，这个 representative 是原来的 representative 的导数。这个新 ket 是之前的 ket 的 linear function（满足相加和乘标量的性质），所以也就相当于是在原 ket 上施加了一个 linear operator，我们称这个 linear operator 为 $d/dq$，也就有了：
$$
\frac{d}{dq}\psi\rangle=\frac{d\psi}{dq}\rangle
$$

因为上面的式子对于任何 $\psi$ 都成立，那么取 $\psi=1$，也就是化简为 standard ket，有：
$$
\frac{d}{dq}\rangle=0
$$
考虑第 7 节中 linear operator 的定义，我们应该可以用如下的方式将 $d/dq$ 作用于 bra $\langle\phi(q)$：
$$
\{\langle\phi\frac{d}{dq}\}\psi\rangle=\langle\phi\{\frac{d}{dq}\psi\rangle\}
$$
通过 representative 将上式展开，我们有（注意算子不能随便拿到左边去，然后结合一下 20 节的定义）：
$$
\begin{aligned}
\int\langle\phi\frac{d}{dq}|q'\rangle dq'\psi(q')&=\int\phi(q')dq'\frac{\psi(q')}{dq'}\\
&=\left.\phi(q')\psi(q')\right\vert_{a}^{b}-\int \frac{d\phi(q')}{dq'}dq'\psi(q')\\
&=-\int \frac{d\phi(q')}{dq'}dq'\psi(q')
\end{aligned}
$$
也就有：
$$
\begin{aligned}
\langle\phi\frac{d}{dq}|q'\rangle&=-\frac{d\phi(q')}{dq'}\\
\langle\phi\frac{d}{dq}&=-\langle\frac{d\phi}{dq}
\end{aligned}
$$
上述的推导要求在边界处为 0。实际情况中一般都会满足，具体的扩展定义放在了下一节。这种边界条件上的限制往往在物理上也是对应的，例如对于笛卡尔坐标系，$q$ 的边界在正负无穷，边界条件就是要求在正负无穷处 vanish。

因为 $d/dq\cdot \psi\rangle$ 或者 $d\psi/dq\rangle$ 的 conjugate imaginary 是 $\langle d\bar{\psi}/dq$，即 $\langle \bar{\psi}\cdot d/dq$，所以 $d/dq$ 的 conjugate complex 是 $-d/dq$，即 $d/dq$ 是 pure imaginary linear operator。

我们继续来考虑 $d/dq$ 的 representative。我们有：
$$
|q''\rangle=\delta(q-q'')\rangle
$$
则有：
$$
\begin{aligned}
\frac{d}{dq}|q''\rangle&=\frac{d}{dq}\delta(q-q'')\rangle\\
\langle q'|\frac{d}{dq}|q''\rangle&=\frac{d}{dq'}\delta(q'-q'')
\end{aligned}
$$
另外，考虑 $d/dq$ 和 $q$ 的 commutation relation：
$$
\frac{d}{dq}q\psi\rangle=\frac{dq\psi}{dq}\rangle=q\frac{d}{dq}\psi\rangle+\psi\rangle
$$
也就是：
$$
\frac{d}{dq}q-q\frac{d}{dq}=1
$$
和上面 $q,p$ 的 commutation relation 对比，会发现 $-i\hbar d/dq$ 和 $p$ 与 $q$ 有相同的 commutation relation。

**扩展至任意** $n$。 我们把 ket 表示为 $\psi{q_1...q_n}\rangle=\psi\rangle$，并引入 $\partial/\partial q_r\ (r=1,...,n)$，定义为：
$$
\frac{\partial}{\partial q_r}\psi\rangle=\frac{\partial \psi}{\partial q_r}\rangle
$$
类似 $n=1$ 的情况，我们还有：
$$
\begin{aligned}
\frac{\partial}{\partial q_r}\rangle&=0\\
\langle\phi\frac{\partial}{\partial q_r}&=-\langle\frac{\partial\phi}{\partial q_r}\\
\frac{\partial}{\partial q_r}q_s-q_s\frac{\partial}{\partial q_r}&=\delta_{rs}
\end{aligned}
$$
另外，还有：
$$
\frac{\partial}{\partial q_r}\frac{\partial}{\partial q_s}\psi\rangle=\frac{\partial^2\psi}{\partial q_r\partial q_s}\rangle=\frac{\partial}{\partial q_s}\frac{\partial}{\partial q_r}\psi\rangle
$$
也就是：
$$
\frac{\partial}{\partial q_r}\frac{\partial}{\partial q_s}=\frac{\partial}{\partial q_s}\frac{\partial}{\partial q_r}
$$
我们可以直接取：
$$
p_r=-i\hbar\frac{\partial}{\partial q_r}
$$
也不会有任何 inconsistency。这种可能性证明了 $q$ 肯定 for a complete commuting set，因为 $q$ 和 $p$ 的函数一定是 $q$ 和 $-i\hbar\partial/\partial q_r$ 的函数，而因为 $-i\hbar\partial/\partial q_r$ 不能和所有 $q$ commute，所以能和所有 $q$ commute 的只能是 $q$ 的函数。

如果 $p_r$ 不等于 $-i\hbar\partial/\partial q_r$，那么由于 $p_r + i\hbar\partial/\partial q_r$ commute with $q$，所以：
$$
p_r=-i\hbar\partial/\partial q_r+f_r(q)
$$
因为 $p_r$ 和 $-i\hbar\partial/\partial q_r$ 都是实的，所以 $f_r(q)$ 是实的。对于任意 $f$，有：
$$
\begin{aligned}
&\frac{\partial}{\partial q_r}f\psi\rangle=f\frac{\partial}{\partial q_r}\psi\rangle+\frac{\partial f}{\partial q_r}\psi\rangle\\
&\frac{\partial}{\partial q_r}f-f\frac{\partial}{\partial q_r}=\frac{\partial f}{\partial q_r}
\end{aligned}
$$
继续带入，有：
$$
p_rf-fp_r=-i\hbar\frac{\partial f}{\partial q_r}
$$
即：
$$
[f,p_r]=\frac{\partial f}{\partial q_r}
$$
另外，我们还有：
$$
(p_r-f_r)(p_s-f_s)=(p_s-f_s)(p_r-f_r)
$$
加之 quantum condition $p_rp_s=p_sp_r$，则有：
$$
p_rf_s+f_rp_s=p_sf_r+f_sp_r
$$
继续分组带入，有：
$$
\partial f_s/\partial q_r=\partial f_r/\partial q_s
$$
这意味着 $f_r=\partial F/\partial q_s$，其中 $F$ independent of $r$（这里应该是说，所有方向都用同一个 $F$）。从而得到：
$$
p_r=-i\hbar\partial/\partial q_r+\partial F/\partial q_s
$$
接下来，**我们可以通过调整 phase factor 来把这个 $F$ 消掉**。我们取新的 basic bra 为：
$$
\langle {q'_1...q'_n}^{*}|=e^{i\gamma'}\langle {q'_1...q'_n}|
$$
这里 $\gamma'=\gamma(q')$ 是 $q'$ 的实函数。那么反过来就有 $\psi\rangle^*=e^{-i\gamma}\psi\rangle$，即：
$$
\rangle^*=e^{-i\gamma}\rangle
$$
类似的我们可以定义 $(\partial/\partial q_r)^*$，有：
$$
(\frac{\partial}{\partial q_r})^*\psi\rangle^* = \frac{\partial\psi}{\partial q_r}\rangle^* = e^{-i\gamma}\frac{\partial\psi}{\partial q_r}\rangle = e^{-i\gamma}\frac{\partial}{\partial q_r}\psi\rangle = e^{-i\gamma}\frac{\partial}{\partial q_r}e^{i\gamma}\psi\rangle^*
$$
即：
$$
(\frac{\partial}{\partial q_r})^*=e^{-i\gamma}\frac{\partial}{\partial q_r}e^{i\gamma}
$$
再因为 $(\partial /\partial q_r)f=f(\partial/\partial q_r)+\partial f/\partial q_r$，也就是：
$$
(\frac{\partial}{\partial q_r})^*=e^{-i\gamma}\frac{\partial}{\partial q_r}e^{i\gamma}=\frac{\partial}{\partial q_r}+i\frac{\partial \gamma}{\partial q_r}
$$
只要选择 $\gamma$ 使得 $F=\hbar\gamma + \text{a constant}$，则有 $p_r=-ih(\partial/\partial q)^*$

这种 representation 被称为 **Schrodinger's representation**，因为这也是薛定谔在 1926 年在他最初的量子力学 formulation 中使用的 representation。Schrodinger's representation 在 canonical $q$ 和 $p$ 存在的时候存在，而且仅由他们决定（只相差一个常数 phase factor）。

另外，因为这种表示中有 $p_r\rangle=0$，也就也为这 standard ket 是所有 momenta 的 eigenket 且其特征值为 0。以及有：
$$
\begin{aligned}
\langle q'_1...q'_n|\frac{\partial}{\partial q_r}\psi\rangle = \langle q'_1...q'_n|\frac{\partial \psi}{\partial q_r}\rangle &= \frac{\partial\psi(q_1'...q'_n)}{\partial q'_r}=\frac{\partial}{\partial q'_r}\langle q'_1...q'_n|\psi\rangle\\
\langle q'_1...q'_n|\frac{\partial}{\partial q_r}&=\frac{\partial}{\partial q'_r}\langle q'_1...q'_n|\\
\langle q'_1...q'_n|p_r&=-i\hbar\frac{\partial}{\partial q'_r}\langle q'_1...q'_n|\\
p_r| q'_1...q'_n\rangle&=i\hbar\frac{\partial}{\partial q'_r}| q'_1...q'_n\rangle
\end{aligned}
$$

## 4.23 The momentum representation

让我们重新来考虑只有 1 个自由度，可以用 $q$ 和 $p$ 描述的系统，并假设 $q$ 特征值范围是从 $-\infty$ 到 $\infty$。那么根据 Schrodinger's representation，$p$ 的 eigenket $|p'\rangle$ 满足：
$$
p'\langle q'|p'\rangle=\langle q'|p|p'\rangle=-i\hbar\frac{d}{dq'}\langle q'|p'\rangle
$$
这个微分方程的解为：
$$
\langle q'|p'\rangle=c'e^{ip'q'/\hbar}
$$
其中 $c'=c(p')$ 与 $q'$ 无关。

不过问题来了，orthogonality theorem 不成立了。因为如果取另一个 $p$ 的 eigenket $|p''\rangle$，会有：
$$
\langle p'|p''\rangle=\int_{-\infty}^{\infty}\langle p'|q'\rangle dq'\langle q'|p''\rangle=\bar{c'}c''\int_{-\infty}^{\infty}e^{i(p''-p')q'/\hbar}dq
$$
这个积分正常来说不收敛（因为积分出来是 $\sin$ 和 $\cos$）。但是我们可以**类比 [Cesaro summation](https://en.wikipedia.org/wiki/Ces%C3%A0ro_summation) 定义**，如果一个积分在上界 $q'$ 的值是 $\cos{aq'}$ 或 $\sin{aq'}$，那么当 $q'$ 趋于无穷时，认为这个 值为 0（即我们选取震荡的平均值）。这样就把 orthogonality theorem 恢复了。

当 $p''$ 和 $p'$ 很接近时，上式的右边就逐渐趋近于 $\delta$ 函数了（这里没太明白为啥积分为 1）。其实也就是证明：
$$
\int_{-\infty}^{\infty}e^{iax}dx=2\pi\delta(a)
$$
可以用 Fourier inversion theorem 中的：
$$
\lim_{g\rightarrow \infty}\int_{-\infty}^{\infty}f(a)da\int_{-g}^{g}e^{iax}dx = \lim_{g\rightarrow \infty}\int_{-\infty}^{\infty}f(a)2a^{-1}\sin{ag}\ da=2\pi f(0)
$$
来证明上面的式子。

所以我们有：
$$
\begin{aligned}
\langle p'|p''\rangle=\bar{c'}c''2\pi\delta[(p'-p'')/\hbar]&=\bar{c'}c''h\delta[(p'-p'')\\
&=|c'|^2h\delta(p'-p'')
\end{aligned}
$$
回到 $|p'\rangle$，任意一个 $|X\rangle$ 可以用 $p$ 的 eigenket 表示，因为 $\langle q'|X\rangle$ 可以通过 Fourier analysis 的方式用 $\langle q'|p'\rangle$ 表示。因此 $p$ 是 observable，这也和实验相对应。

这样就形成了 $q$ 和 $p$ 的一种对称性。他们俩的特征值范围都是 $-\infty$ 至 $\infty$，他俩的 commuting relation 只差一个负号。之前我们选的 representation 里 $q$ 是 diagonal，$p=-i\hbar d/dq$，那么如果我们选 $p$ 为 diagonal 的 representation，则有：
$$
q=i\hbar\frac{d}{dp}
$$
这种 representation 称为 **momentum representation**。不过 momentum representation 没有 Schrodinger's representatino 那么有用，因为重要的动力学量往往是由 $p$ 组成的 power series。momentum representation 只对特定问题有用（见第 50 节）。

接下来让我们计算一下这俩 representation 之间的变换关系。同样由于对称性，并根据：
$$
\langle p'|q'\rangle=c'(q')e^{-iq'p'/\hbar}
$$
因此 $c'$ 实际上 Independent of $p'$ 与 $q'$，也就是个数字。那么我们可以进一步调整，让：
$$
\langle p'|p''\rangle=\delta(p'-p'')
$$
这时 $|c|=h^{-1/2}$，然后我们可以选一个 constant pahse factor，就有 $c=h^{-1/2}$，那么
$$
\langle q'|p'\rangle=h^{-1/2}e^{ip'q'/\hbar}
$$
就是我们的 transformation function 了。

类似地推导可以拓展至 $n$ 个自由度，会有：
$$
\begin{aligned}
q_r&=i\hbar\partial/\partial p_r\\
\langle q_1'q_2'...q_n'|p_1'p_2'...p_n'\rangle&=\langle q_1'|p_1'\rangle\langle q_2'|p_2'\rangle...\langle q_n'|p_n'\rangle\\
&=h^{-n/2}e^{i(p_1'q_1'+p_2'q_2'+...+p_n'q_n')/\hbar}
\end{aligned}
$$

## 4.24 Heisenberg's principle of uncertainty

由 18 节中的坐标转化公式，我们有：
$$
\langle p'|X\rangle=h^{-\frac{1}{2}}\int_{-\infty}^{\infty}e^{-iq'p'/\hbar}dq'\langle q'|X\rangle\\
\langle q'|X\rangle=h^{-\frac{1}{2}}\int_{-\infty}^{\infty}e^{ip'q'/\hbar}dp'\langle p'|X\rangle
$$
这证明了 2 个 representative 是互相的 Fourier component。

我们考虑一个在 Schrodinger representative 下表示为一个 wave packet 的 ket，就是说这个函数除了在特定的一个范围，其他位置都很小，并假设这个范围的宽度大约是 $\Delta q'$，以及假设在这个范围内函数大约按一个特定的频率周期性波动。那么如果我们对这个函数做傅里叶分析，应该只有这个特定的频率附近的 Fourier component 的振幅会不那么小。这些不那么小的频率的范围大约是 $1/\Delta q'$ 这个量级（因为频率是波长的倒数）。那么在上式中，$(2\pi)^{-1}p'/\hbar=p'/h$ 即为频率，所以在 wave packet 的情况下，$p'$ 不那么小的范围 $\Delta p'=h/\Delta q'$。

从物理上考虑这个问题，wave packet 表示了 $q$ 的测量值有 $\Delta q'$ 的误差，另外 $p$ 的测量有 $\Delta p'$ 的误差，而两个误差的乘积为：
$$
\Delta q'\Delta p'=h
$$
在多自由度的系统中每个方向都分别有这样的公式。这个公式称为 Heisenberg's Principle of Uncertainty。**这展示了我们没法同时给 2 个 non-commuting observables 确定数值，以及量子力学中观测之间的 incompatible**。除了上述的 wave packet 的情况，一般误差之积会大于 $h$。

进一步，如果我们完全确定了 $q$，则完全不能确定 $p$，这和 18 节的概率公式能相互呼应。（具体呼应需要之后细看）。

另外，很显然不会出现 $q$ 或 $p$ 在为任何值的概率均非零，所以也就对应了我们的测量不可能测量到这两个东西的 eigenstate（不然另一个就完全不确定了），这也呼应上了 12 节结尾提到的测量不会无限精准。

## 4.25 Displacement Operators

在第二章中，我们就把 state 和 dynamic variable 做了物理上的诠释（is essentially a physical scheme），那么如果我们让他们都移动一下（例如在笛卡尔坐标系上平移一个 $\delta x$），新 state 和 dynamic variable 之间的关系应该不变。或者说，这个新的 state 和 dynamic variable 应该由原有的加之位移的方向和长度完全决定。

根据叠加态关系，假如有：
$$
|R\rangle = c_1|A\rangle + c_2|B\rangle
$$
那么理论上，移动了之后，应该有：
$$
|Rd\rangle = c_1|Ad\rangle + c_2|Bd\rangle
$$
这意味着存在一个 linear operator $D$（因为满足 linear function 的条件），满足：
$$
|Pd\rangle = D|P\rangle
$$
也因为上面移动的不变形，我们有：
$$
\langle Qd|Pd\rangle\\
\langle Q|\bar{D}D|P\rangle\\
\bar{D}D=1
$$
类似的如果有一个别的 dynamic variable，会有：
$$
v|P\rangle=|R\rangle\\
v_d|Pd\rangle=|Rd\rangle=D|R\rangle=Dv|P\rangle=DvD^{-1}|Pd\rangle\\
v_d=DvD^{-1}
$$
下一步我们来考虑无穷小的位移，由物理上的连续型，下面这个极限应该存在：
$$
\lim_{\delta x\rightarrow 0}\frac{|Pd\rangle-|P\rangle}{\delta x}=\lim_{\delta x\rightarrow 0}\frac{D-1}{\delta x}|P\rangle
$$
即 $\lim_{\delta x\rightarrow 0}(D-1)/\delta x$ 存在。我们称这个线性算子为 the displacement operator for the x-direction 并用 $d_x$ 表示。在 $\delta x$ 很小的时候，我们可以用：
$$
D=1+\delta x\ d_x
$$
也就有了（中间忽略了 2 阶项）：
$$
(1+\delta x\ \bar{d}_x)(1+\delta x\ d_x)=1\\
\delta x(\bar{d}_x+d_x)=0
$$
所以 $d_x$ 是个 pure imaginary linear operator。带入上面的式子，有：
$$
v_d=(1+\delta x\bar{d}_x)v(1-\delta xd_x)=v+\delta x(d_xv-vd_x)
$$
所以有了：
$$
\lim_{\delta x\rightarrow 0}(v_d-v)/\delta x=d_xv-vd_x
$$
假如说我们把实验仪器放置的位置的测量值为 $x$，那么他平移了一点之后的值应该是 $x_d=x-\delta x$，也就有了：
$$
d_xx-xd_x=-1
$$
这是 $d_x$ 和 $x$ 的 quantum condition。因为我们之前有 $qp-pq=i\hbar$，所以我们可以适当调整 $d_x$ 使得：
$$
p_x=i\hbar d_x
$$
这是一个 fundamental result，给了 displacement operator 新的意义。另外 $p_x, p_y, p_z$ 相互 commute 也与 3 个方向的 displacement 相互 commute 相联系。

## 4.26 Unitary transformation

我们可以扩展从上一节的 $D$，假设：
$$
\alpha^*=U\alpha U^{-1}
$$
 那么假如 $|\alpha'\rangle$ 是 $\alpha$ 的 eigenket，我们有：
$$
\alpha^*U|\alpha'\rangle=U\alpha U^{-1}U|\alpha'\rangle=U\alpha|\alpha'\rangle=\alpha'U|\alpha'\rangle
$$
所以 $U|\alpha'\rangle$ 是 $\alpha^*$ 的 eigenket，且特征值相等。另外我们还会有：
$$
(\alpha_1+\alpha_2)^*=U(\alpha_1+\alpha_2)U^{-1}=U\alpha_1U^{-1}+U\alpha_2U^{-1}=\alpha_1^*+\alpha_2^*\\
(\alpha_1\alpha_2)^*=U\alpha_1\alpha_2 U^{-1}=U\alpha_1 U^{-1}U\alpha_2 U^{-1}=\alpha_1^*\alpha_2^*
$$
我们再来研究一下假如 $\alpha$ 和 $\alpha^*$ 都是实的，对 $U$ 有啥要求，因为 $\alpha, \alpha^*$ 是实的，所以有：
$$
\alpha^*U=U\alpha\\
\overline{U}\alpha^*=\alpha\overline{U}\\
$$
把第一行乘 $\overline{U}$，再用这两行的关系交换顺序，就有：
$$
\overline{U}\alpha^*U=\overline{U}U\alpha\\
\overline{U}U\alpha=\alpha\overline{U}U
$$
也就是 $\overline{U}U$ 和所有 real linear operator commute，再因为任意 linear operator 可以分为实部和虚部的和，所以也就是可以和任意 linear operator commute。因此 $\overline{U}U$ 是个数，且很明显是实数（conjugate 相等），而且还是个正数，因为 $\langle P|\overline{U}U|P\rangle$ 和 $\langle P|P\rangle$ 都得是正的。那么我们不妨假设：
$$
\overline{U}U=1
$$
并称 linear operator 为 **unitary**，$\alpha^*$ 这样的变化为 **unitary transformation**。

在**经典力学**中，我们可以通过变换来从一组 $q_r,p_r$ 转换成 $q_r^*, p_r^*$，且保持相同的 P.B. 关系。我们下面证明 unitary 也有这样的性质，从而表明 unitary transformation 在量子力学中等同于经典力学中的。我们首先注意到，$q_r, p_r$ 们的关系满足：
$$
q_rq_s-q_sq_r=0\\
p_rp_s-p_sp_r=0\\
q_rp_s-p_sq_r=i\hbar\delta_{rs}\\
$$
而这些代数关系都会在 unitary transformation 下保持。而反过来，如果有 $q_r^*, p_r^*$ 满足 P.B. relation，我们是可以找到对应的 $U$ 的。

考虑 Schrodinger representation，并把 basic ket $|q_1'...q_n'\rangle$ 表示为 $|P\rangle$，那么因为我们假设 $q_r^*, p_r^*$ 满足 P.B. relation，所以我们也可以找到他们对应的 Schrodinger representation，其中 $q_r^*$ 是 diagonal 的，而 $p_r^*$ 是 $-i\hbar\partial/\partial q_r^*$，我们把这个 representation 的 basic ket 表示为 $|{q^*}'\rangle$，假设我们用如下的方法定义 $U$：
$$
\langle {q^*}'|U|q'\rangle=\delta({q^*}'-q^*)
$$
其中 $\delta({q^*}'-q')=\delta({q_1^*}'-q_1')\delta({q_2^*}'-q_2')...\delta({q_n^*}'-q_n')$，那么就有：
$$
\langle {q^*}'|\overline{U}|q'\rangle=\delta({q^*}'-q^*)
$$
以及：
$$
\langle q'|\overline{U}U|q''\rangle = \delta(q'-q'')
$$
即 $\overline{U}U=1$，所以 $U$ 是 unitary operator。进一步我们有：
$$
\langle {q^*}'|q_r^*U|q'\rangle={q_r^*}'\delta({q^*}'-q^*)\\
\langle {q^*}'|Uq_r|q'\rangle=q'_r\delta({q^*}'-q^*)
$$
右侧这俩式子实际上是相等的。所以我们有了：
$$
q_r^*U=Uq_r\\
q_r^*=Uq_rU^{-1}
$$
因为 22 节中的：
$$
\langle q'|p_r=-i\hbar\frac{\partial}{\partial q_r'}\langle q'|\\
p_r|q'\rangle=i\hbar\frac{\partial}{\partial q_r'}|q'\rangle
$$
我们有：
$$
\langle {q^*}'|p_r^*U|q'\rangle=-i\hbar\frac{\partial}{\partial {q_r^*}'}\delta({q^*}'-q^*)\\
\langle {q^*}'|Up_r|q'\rangle=i\hbar\frac{\partial}{\partial q_r'}\delta({q^*}'-q^*)\\
$$
显然有右侧相等。所以有：
$$
p_r^*U=Up_r\\
p_r^*=Up_rU^{-1}
$$
也就证明了 unitary transformation 的所有性质。

对于最开始的式子，如果我们认为 $U$ 和 unity 只差一个无穷小量（即做无穷小的 unitary transformation），我们有：
$$
U=1+i\epsilon F\\
U^{-1}=1-i\epsilon F
$$
那么就有：
$$
\alpha^*-\alpha=i\epsilon(F\alpha-\alpha F)=i\epsilon[\alpha, F]
$$
如果 $\alpha$ 为 $q$ 或 $p$，这个变换等同于 classical infinitesimal contact transform（这是啥。。。）。

# 5 The equation of motion

## 5.27 Schrodinger's form for the equation of motion

考虑一个从未被 disturb 过的系统，我们假设 $t$ 时刻的 state 对应的 ket 为 $|t\rangle$，而同一时刻的不同状态，我们用 $A$ 来标识（如 $|At\rangle$）。如果我们希望**一个时刻的状态能决定另一个时刻**的状态，那么意味着 $|At_o\rangle$ determines $|At\rangle$ except for a numerical factor。加上叠加态原理，这意味着如果在 $t_0$ 时刻有：
$$
|Rt_0\rangle=c_1|At_0\rangle+c_2|Bt_0\rangle
$$
则在 $t$ 时刻有：
$$
|Rt\rangle=c_1|At\rangle+c_2|Bt\rangle
$$
这意味着 $|Pt\rangle$ 是 $|Pt_0\rangle$ 的 linear function，即：
$$
|Pt\rangle=T|Pt_0\rangle
$$
其中 $T$ 为 linear operator，且 independent of $P$, only depending on $t$ and $t_0$。

我们继续**假设** $|Pt\rangle$ 和  $|Pt_0\rangle$ 的长度相等。这是一个物理上的假设，他相当于是加强了 the principle of superposition，即，对于任意复数 $c1,c2$，都有 $c_1|Pt\rangle+c_2|Qt\rangle$ 的长度等于 $c_1|Pt_0\rangle+c_2|Qt_0\rangle$，也就是：
$$
\begin{aligned}
|c_1|^2\langle Pt|Pt\rangle + |c_2|^2\langle Qt|Qt\rangle &+ c_1\bar{c_2}\langle Qt|Pt\rangle + c_2\bar{c_1}\langle Pt|Qt\rangle=\\
|c_1|^2\langle Pt_0|Pt_0\rangle + |c_2|^2\langle Qt_0|Qt_0\rangle &+ c_1\bar{c_2}\langle Qt_0|Pt_0\rangle + c_2\bar{c_1}\langle Pt_0|Qt_0\rangle\\
\\
\langle Qt|Pt\rangle&=\langle Qt_0|Pt_0\rangle
\end{aligned}
$$
所以 $|Pt\rangle$ 和 $|Pt_0\rangle$ 的关系类似于 25 节中 displaced 和 undisplaced kets，不过这里是 time displacement 了。那么对应地，我们可以推导出：
$$
\overline{T}T=1
$$
即 $T$ 是 unitary。我们取一下极限（假设物理使该极限存在）：
$$
\frac{d|Pt_0\rangle}{dt_0}=\lim_{t\rightarrow t_0}{\frac{|Pt\rangle-|Pt_0\rangle}{t-t_0}}=\{\lim_{t\rightarrow t_0}{\frac{T-1}{t-t_0}}\}|Pt_0\rangle
$$
仍然同 25 节，给这个极限乘上 $i\hbar$，并定义为 $H$，并将 $t_0$ 一般化为 $t$ 有：
$$
i\hbar\frac{d|Pt\rangle}{dt}=H(t)|Pt\rangle
$$
这就是 Schrodinger's form for the equation of motion，其中只包含了一个 real linear operator $H(t)$，他的实际表示方法由动力系统的特点决定。我们**假设 $H(t)$ 是系统的总能量**，有 2 个理由：

1. 为了和经典力学相似，这点下一节会讲；
2. 因为我们一直在和 25 节中位移 displacement 相比较，而相对论中将能量和时间的关系与动量和位移的关系相同。（这个需要我之后查查...）

继续带入上面的关系，有：
$$
i\hbar\frac{dT}{dt}|Pt_0\rangle=H(t)T|Pt_0\rangle
$$
对任何 ket $|Pt_0\rangle$ 成立，所以我们有：
$$
i\hbar\frac{dT}{dt}=H(t)T
$$
如果我们选 a complete set of commuting observables $\xi$ diagonal 来做 representation，并假设 $\langle\xi'|Pt\rangle=\psi(\xi't)$，也就是 $|Pt\rangle$ 可以表示为 $\psi(\xi't)\rangle$，那么上面的式子可以变成：
$$
i\hbar\frac{d}{\partial t}\psi(\xi't)\rangle=H\psi(\xi't)\rangle
$$
这个方程被称为 Schrodinger's wave equation，他的解 $\psi(\xi't)$ 是 time-dependent wave functions。它表示了系统的运动状态，以及 the square of its modulus 给了 $\xi$ 在 $t$ 时刻处在某个特殊值的概率。对于一个可以用 canonical coordinates 和 momenta 描述的系统，我们可以用 Schrodinger representation，并和 22 节一样转换 $H$（使用 $f(q_1...q_n,p_1,...,p_n)=f(q_1,...,q_n),-i\hbar\partial/\partial q_1,...,-i\hbar\partial/\partial q_n$）。

## 5.28. Heisenberg's form for the equations of motion

之前一节，我们将 the state of undisturbed motion 对应为了一个 moving ket，也就是每个时刻的状态对应了该时刻的 ket，我们称这种观点为 **Schrodinger's picture**。还可以用另一种视角，认为 state 对应的是 fixed vector，而 dynamic variable 对应的是 moving linear operator，这被称为 **Heisenberg picture**。注意，没说 Schrodinger's picture 里的算子和时间无关。

来看公式。从 Schrodinger's picture 的一个运动的 ket $|\alpha\rangle$，假如我们逆转一下时间变换 $T$，就有：
$$
|\alpha^*\rangle=T^{-1}|\alpha\rangle
$$
这样 $|\alpha^*\rangle$ 就相当于与时间无关了，也就是 fixed 了。那么做到这件事，需要：
$$
\alpha^*=T^{-1}\alpha T
$$
那么为了表现出 Heisenberg picture 中 operator 的运动，我们用 $v_t$ 来替代 $\alpha^*$，即：
$$
v_t=T^{-1}vT\\
Tv_t=vT
$$
两边关于 $t$ 求导，就是：
$$
\frac{dT}{dt}v_t+T\frac{dv_t}{dt}=v\frac{dT}{dt}
$$
加之 $i\hbar(dT/dt)=H(t)T$，有：
$$
\begin{aligned}
HTv_t&+i\hbar T\frac{dv_t}{dt}=vHT\\
i\hbar \frac{dv_t}{dt}&=T^{-1}vHT-T^{-1}HTv_t\\
&=v_tH_t-H_tv_t
\end{aligned}
$$
其中 $H_t=T^{-1}HT$。我们也就可以用 P.B. 表示成：
$$
\frac{dv_t}{dt}=[v_t, H_t]
$$
这被称之为 Heisenberg's form for the equations of motion。我们称 $H$ 为 Schrodinger dynamical variable，$H_t$ 为 Heisenberg dynamical variable。这个 P.B. 关系可以和经典力学做对比，因为经典力学中，也是 dynamical variable 随时间变化的。在**经典力学中**，有：
$$
\frac{q_r}{dt}=\frac{\partial H}{\partial p_r},\quad\frac{dp_r}{dt}=-\frac{\partial H}{\partial q_r}
$$
这里的 $H$ 是 Hamiltonian。那么对于一个是 $q,p$ 且不显式依赖 $t$ 的 $v$，有：
$$
\begin{aligned}
\frac{dv}{dt}&=\sum_r\{\frac{\partial v}{\partial q_r}\frac{dq_r}{dt}+\frac{\partial v}{\partial p_r}\frac{dp_r}{dt}\}\\
&=\sum_r\{\frac{\partial v}{\partial q_r}\frac{\partial H}{\partial p_r}-\frac{\partial v}{\partial p_r}\frac{\partial H}{\partial q_r}\}\\
&=[v, H]
\end{aligned}
$$
这个和量子系统相同的性质，让我们可以将 $H_t$ 与 Hamiltonion 类比。考虑到经典系统中，如果 Hamiltonian 关于 $q,p$ 的函数确定了，那么整个系统就在数学上确定了，而在量子系统中 $H$（Schrodinger's picture）或者 $H_t$（Heisenberg picture）的 commuting relation 确定了，equation of motion 就确定了，系统也就确定了，所以我们称 $H$ 为 Hamiltonian of dynamic variable。

在个别情况下，由于量子系统需要考虑到 2 个算子能否 commute 的问题，所以不能直接类比经典系统的 Hamiltonian 函数，但是在原子物理涉及到的基本场景下，一般我们是可以做这样的类比的。所以我们也可以用和描述经典系统相同的方式去描述量子系统，例如描述具有某种质量的粒子在场中受力。

假如说 $v_t$ 与时间无关，再因为我们有 $T(t_0)=1$，所以：
$$
v_t=v_{t_0}=v
$$

我们称这样的 $v_t$ 或 $v$ 为 **constant of motion**。这要求 $v$ 与 $H$ commute（P.B. 为 0 了），一般满足这个条件要求 $H$ 是 constant，这样我们也可以得到 $H_t$ 是 constant，即如果 Hamiltionian 在 Schrodinger's picture 里是 constant 的，在 Heisenberg picture 中一样是。（这里的逻辑推导我没明白...）

对于一个孤立的，没有施加任何外力的系统，运动过程总是有一些常量的。例如，我们认为总能量 Hamiltonian 是不变的，以及从物理上来说，我们可以认为移动了一个小距离后总能量不变，也就是 $D$ 和 $H$ commute，也是 constant of the motion。那么考虑无穷小的位移，我们有 $d_x,d_y,d_z$ 是 constant，根据 25 节的结论，这对应了 $p$ 是 constant of the motion。另一方面，在旋转之后，总能量也应该不变，这会导出角动量是 constant of the motion（在 35 节会证明），所以在 Heisenberg's picture 下能有能量守恒，动量守恒和角动量守恒定律。

这两种形式中，在实际情况下 Schrodinger's picture 更好用一些，因为 wave function 是个函数，而 Heisenberg's picture 的 operator 要用多很多的数来表示。但是 Heisenberg's picture 让我们能在量子系统里类比很多经典力学中的特性。

## 5.29 Stationary states

考虑一个能量为恒定的动态系统。那么从：
$$
i\hbar\frac{dT}{dt}=H(t)T
$$
（因为这一节中所有的量都和 $H$ commute，所以可以把 $H$ 当成普通的代数量），所以我们可以积分得到（假设我们认为 $t=t_0$ 时，$T=1$）：
$$
T=e^{-i(t-t_0)/\hbar}
$$

这使得 Schrodinger's wave function 变成了：
$$
|Pt\rangle=e^{-iH(t-t_0)/\hbar}|Pt_0\rangle
$$
以及 Heisenberg 方程里：
$$
v_t=e^{iH(t-t_0)/\hbar}ve^{-iH(t-t_0)/\hbar}\\
H^t=H
$$
不过就像上一节说的，Heisenberg 这个形式不太好用，我们还是回来看 Schrodinger 的形式。

**如果 $t_0$ 时刻的状态是系统能量的 eigenstate**，那么 $|Pt_0\rangle$ 是 $H$ 的 eigenket，我们假设特征值为 $H'$，那么根据 11 节的特性，有：
$$
|Pt\rangle=e^{-iH'(t-t_0)/\hbar}|Pt_0\rangle
$$
也就是 $|P_t\rangle$ 和 $|P_{t_0}\rangle$ 只相差一个 phase factor。所以 state 会一直是能量的 eigenstate。进一步可以发现 $|Pt\rangle$ 的方向也没变（我感觉这里的意思是他在成比例的旋转），所以其实就是这个 state 没在变，我们称之为 **stationary state**。对于 stationnary state，观测结果的概率分布是不随时间变化的。

转为用波函数表示，我们有：
$$
\psi(\xi t)=\psi_0(\xi)e^{-iH't/\hbar}
$$
以及薛定谔方程变为：
$$
H'\psi_0\rangle=H\psi_0\rangle
$$
我们称这样的 $\psi_0$ 为 $H$ 的 eigenfunction。

在 Heisenberg picture 里，stationary states 是能量的 eigenvector。我们可以建立一个 representation，其中所有的 basic vector 都是能量的 eigenvector，这些 basic vector 也就对应了 stationary state。这样的 representation 被称为 **Heisenberg representation**。在这种 representation 中，能量是 diagonal 的，其他 diagonal dynamical variable 都能和能量 commute，也就是 constant of the motion。建立这样的一个 representation 就是找到一组 constant of the motion 作为 a complete commute set，那么由 19 节的定理 2，$H$ 是这些 observable 的函数。一般为了方便，我们有时直接把能量放在里面。

假设这种表示的 basic vector 是 $\langle \alpha'|$ 和 $|\alpha''\rangle$，那么能量是 $\alpha$ 的函数，也就是 $H=H(\alpha)$，那么有：
$$
\begin{aligned}
\langle\alpha'|v_t|\alpha''\rangle&=\langle\alpha'|e^{iH(t-t_0)/\hbar}ve^{-iH(t-t_0)/\hbar}|\alpha''\rangle\\
&=e^{i(H'-H'')(t-t_0)}\langle\alpha'|v|\alpha''\rangle
\end{aligned}
$$
其中 $H'=H(\alpha'), H''=H(\alpha'')$。这个式子就展示了 Heisenberg dyanmical variable 对应的 Heisenberg matrix  的每个元素是啥样的。上式对应了一个频率 
$$
|H'-H''|/2\pi\hbar=|H'-H''|/h
$$


也就是说频率和能量差对应，这个结果和 Combination Law of Spectroscopy 以及 Bohr's Frequency Condition 相联系，这个频率对应了能级 $\alpha'$ 和 $\alpha''$ 之间变化时辐射或吸收的电磁波的频率。$H$ 的特征值就是 Bohr's energy level（能级），相关内容会在 45 节讨论。

## 5.30 The Free Particle

最基础的量子力学系统就是一个自由粒子，也就是没有受任何外力的粒子。那么在笛卡尔坐标系下，假如它的动量在 3 个维度上是 $p_x,p_y,p_z$，那么对应的 Hamiltonioan 根据牛顿力学是：
$$
H=\frac{1}{2m}(p_x^2+p_y^2+p_z^2)
$$
在相对论下是：
$$
H=c(m^2c^2+p_x^2+p_y^2+p_z^2)^{\frac{1}{2}}
$$
我们可以直接把这两个式子拿进量子力学（算子的平方根是啥在 11 节定义过了）。我们首先来求解 Heisenberg equation of motion。由 21 节中的 quantum condition，我们有 $p_x,p_y,p_z$ 相互 commute，所以由 19 节的定理 1，有 $p_x$ 和 $H$ commute，即 $p_x$ 是 constant of motion，和经典力学的公式相同。另外因为：
$$
i\hbar\frac{dx_t}{dt}=x_tH_t-H_tx_t=x_tc(m^2c^2+p_x^2+p_y^2+p_z^2)^{\frac{1}{2}}-c(m^2c^2+p_x^2+p_y^2+p_z^2)^{\frac{1}{2}}x_t
$$
而由于 22 节中的（这里把 $p$ 和 $q$ 换过来了，所以还取了共轭）：
$$
q_rf-fq_r=i\hbar\frac{\partial f}{\partial p_r}
$$
所以有：
$$
\dot{x}_t=\frac{\partial}{\partial p_r}c(m^2c^2+p_x^2+p_y^2+p_z^2)^{\frac{1}{2}}=\frac{c^2p_x}{H}
$$
那么：
$$
v=(\dot{x}_t^2+\dot{y}_t^2+\dot{z}_t^2)=c^2(p_x^2+p_y^2+p_z^2)^{\frac{1}{2}}/H
$$
都和经典理论相对应。

让我们接下来考虑动量的 eigenstate，对应的 eigenvalue 是 $p_x',p_y',p_z'$，这个状态肯定也将会是 $H$ 的 eigenstate，对应的特征值为：
$$
H'=c(m^2c^2+{p_x'}^2+{p_y'}^2+{p_z'}^2)^{\frac{1}{2}}
$$
那么这个 state 在 Schrodinger's representative 中对应的波动函数满足：
$$
p_x'\psi(xyz)\rangle=p_x\psi(xyz)\rangle=-i\hbar\frac{\partial\psi(xyz)}{\partial x}\rangle
$$
对于 $p_y, p_z$ 来说也是一样，所以我们可以求解得到：
$$
\psi(xyz)=ae^{i(p_x'x+p_y'y+p_z'z)/\hbar}
$$
其中 $a$ 和 $x,y,z$ 均无关。加上上一节的和时间相关的项，我们有：
$$
\psi(xyz)=a_0e^{i(p_x'x+p_y'y+p_z'z-H't)/\hbar}
$$
其中 $a_0$ 和 $x,y,z,t$ 均无关。

这个解也确实是个“波”函数，我们可以得到对应的频率为 $v=H'/h$，波长为 $\lambda=h/({p_x'}^2+{p_y'}^2+{p_z'}^2)^{1/2}=h/P'$。波速满足：
$$
\lambda v=H'/P'=c^2/v'
$$

上面的几个式子都是相对论系统下的不变量，德布罗意就是通过这样的不变量，在发现量子力学之前就求得了上面的波函数，这个波函数因此被称为 **de Broglie waves**。

在质量 $m$ 很小而经典系统中的速度 $v$ 为 $c$ 时，波速也为 $c$，这个波就会类似于光子产生的光波，区别在于他们不涉及 polarization 以及包含一个 complex exponential 而不是 sines 和 cosines。上面的式子也可以用来将 光子的能量和频率，动量和波长联系起来。

上面求得的这个波函数的特点是，粒子在任何一个 volume 中出现的概率都是相同的，和 volume 的位置无关，这也就成了海森堡测不准原理的一个例子，也就是在动量完全确定的时候，位置是完全未知的。当然，实践中不会有这样的粒子，实践中的例子一般都是用 wave packet 表示的，也就是由多个上面的波函数叠加得到。在流体动力学（hydrodynamics）中，wave packet 的速度，即波的 group velocipy 为：
$$
\frac{dv}{d(1/\lambda)}=\frac{dH'}{dP'}=c\frac{d}{dP'}(mc^2+P'^2)^{\frac{1}{2}}=\frac{c^2P'}{H'}=v'
$$
所以 wave packet 的速度方向和大小都和例子的速度相同。


## 5.31 The Motion of Wave Packets

对于一个有 classical analogue 的 dynamical system，状态在量子力学中都应该对应为 wave packet（波包），也就是坐标和动量都都在一个小范围内，其精确度由海森堡测不准原理限定。一个合适的理论应该保证在量子力学中的 wave packet 的 classical analogue 也是 wave packet，且运动的方式和 Schrodinger's equation 规定的相符。下面我们来证明一下这件事。

假设在 Schrodinger's representation 下，time-dependent wave function 为：
$$
\psi(qt)=Ae^{iS/\hbar}
$$
其中 $A$ 和 $S$ 是 real function，且不会随 $q,t$ 剧烈变动。那么我们带入波动方程，有：
$$
i\hbar\frac{\partial}{\partial t}Ae^{iS/\hbar}\rangle=H(q_r,p_r)Ae^{iS/\hbar}\rangle\\
\{i\hbar\frac{\partial A}{\partial t}-A\frac{\partial S}{\partial t}\}\rangle=e^{-iS/\hbar}H(q_r,p_r)Ae^{iS/\hbar}\rangle
$$

很显然 $e^{-iS/\hbar}$ 是个 unitary linear operator，也就可以对应一个 unitary transformation。因为 27 节有结论：
$$
p_rf-fp_r=-i\hbar\partial f/\partial q_r\\
q_rf-fq_r=i\hbar\partial f/\partial p_r
$$
加之 $S$ 不依赖 $p_r$ 所以有：
$$
e^{-iS/\hbar}q_re^{uS/\hbar}=q_r\\
e^{-iS/\hbar}p_re^{uS/\hbar}=p_r + \partial S/\partial q_r
$$
那么带入 $H$ 就有：
$$
e^{-iS/\hbar}H(q_r,p_r)e^{uS/\hbar}=H(q_r, p_r + \partial S/\partial q_r)
$$
因为 unitary transformation 保代数关系，所以上面的方程变成了：
$$
\{i\hbar\frac{\partial A}{\partial t}-A\frac{\partial S}{\partial t}\}\rangle=H(q_r,p_r+\frac{\partial S}{\partial q_r})A\rangle
$$
我们进一步假设 $\hbar$ 是小量可以被忽略，这样我们还会进一步忽略 $p_r$，因为 $p_r=-i\hbar\partial/\partial q_r$，上面的式子就变成了：
$$
-\frac{\partial S}{\partial t}=H_c(q_r, \frac{\partial S}{\partial q_r})
$$
是 phase factor $S$ 的微分方程。这个方程由 classical Hamiltionian $H_c$ 决定，这个方程被称为 Hamilton-Jacobi equation。这个方程允许 $S$ 为实函数，所以和最开始我们假设的波函数形式并没有冲突。

（中间这段是继续求解 $A$，我直接跳过了...后面有一段关于波包的延展...有点没看懂...）
## 5.32 The Action Principle



## 5.33 The Gibbs Ensemble

我们上述的讨论基本都在假设 dynamical system 在某一时刻处于某一确定的状态，类似于经典理论中坐标和动量都被确定了。这一节我们来讨论**经典力学**中的 Gibbs ensemble，即我们考虑一个 **phase space**，它的维度是系统自由度的 2 倍（因为有位移和动量），并且我们只给这个系统在某个状态的概率分布，那么我们就可以把这个系统看成是 phase space 中的流体，流体的质量就是系统处于 phase space 的某个体积的概率。假如引入对应的密度 $\rho$，则有：
$$
\begin{aligned}
\frac{\partial \rho}{\partial t}&=-\sum_r\{\frac{\partial}{\partial q_r}(\rho\frac{dq_r}{dt})+\frac{\partial}{\partial p_r}(\rho\frac{dp_r}{dt})\}\\
&=-\sum_r\{\frac{\partial}{\partial q_r}(\rho\frac{partial H}{\partial p_r})-\frac{\partial}{\partial p_r}(\rho\frac{partial H}{\partial q_r})\}\\
&=-[\rho, H]
\end{aligned}
$$
我们可以把它看作是这个流体的 equation of motion。它和 Heisenberg equation of motion 就差了个负号。

另外，作为 $rho$，它应该有：
$$
\int\int\rho dqdp=1
$$
如果 $\beta$ 为 dynamical variable 的函数，它的平均值会是 $\int\int\beta\rho dqdp$。我们在用的时候经常会假设：
$$
\int\int\rho dqdp=k
$$
来模拟 $k$ 个相似且相互不干扰的 dynamical system。

下面我们来证明在量子力学中有类似的 $\rho$。我们假设一个动力系统可能出在**离散的状态**中，并用 $m$ 标记这些状态，用 $|m\rangle$ 标注对应的 normalized ket，$P_m$ 表示处于该状态的概率。我们定义 $\rho$ 为：
$$
\rho=\sum_m|m\rangle P_m\langle m|
$$
假设 $|\rho'\rangle$ 是 $\rho$ 的 eigenvalue，我们会有：
$$
\sum_m\langle \rho'|m\rangle P_m\langle m|\rho'\rangle=\rho'\langle\rho'|\rho'\rangle\\
\sum_mP_m|\langle m|\rho'\rangle|^2=\rho'\langle\rho'|\rho'\rangle
$$

因为 $P_m\ge0$，我们有 $\rho'\ge0$。$\rho$ 的特征值非负对应了经典理论中的 $\rho$ 非负。

我们下面来推导 $\rho$ 的 equation of motion，注意到在 Schrodinger's picture 中，ket 和 bra 会随时间变化，而 $P_m$ 不会（因为在没有外界干扰的情况下，系统不会从一个状态变到另一个状态），那么我们有：

$$
\begin{aligned}
i\hbar\frac{d\rho}{dt}&=\sum_m i\hbar\{\frac{d|m\rangle}{dt}P_m\langle m|+|m\rangle P_m\frac{d\langle m|}{dt}\}\\
&=\sum_m \{H|m\rangle P_m\langle m|+|m\rangle P_m\langle m|H\}\\
&=H\rho-\rho H
\end{aligned}
$$
也和经典力学的结论对应上了。同时 $\rho$ 也是只要给了最初的值就能推出来后面每一刻的值了。

12 节中我们提到过，一个系统在状态 $m$ 时的观测 $\beta$ 的结果的平均值为 $\langle m|\beta|m\rangle$，所以多个系统的平均值会为 $\sum_m P_m\langle m|\beta|m\rangle$。那么假如我们有一个由**离散**的 basic ket 组成的 $|\xi'\rangle$  representation，这相当于：
$$
\begin{aligned}
\sum_m P_m\langle m|\beta|m\rangle&=\sum_{m,\xi'} P_m\langle m|\xi'\rangle\langle\xi'|\beta|m\rangle\\
&=\sum_{m,\xi'} \langle\xi'|\beta|m\rangle P_m\langle m|\xi'\rangle\\
&=\sum_{\xi'} \langle\xi'|\beta\rho|\xi'\rangle
\end{aligned}
$$
由 17 节的矩阵乘结论，最后也等于 $\sum_{\xi'} \langle\xi'|\rho\beta|\xi'\rangle$。这个式子也对应了经典力学中的公式。对于连续的 representation 我们也会有：
$$
 \int \langle\xi'|\beta\rho|\xi'\rangle d\xi'=\int \langle\xi'|\rho\beta|\xi'\rangle d\xi'
$$
我们称这个积分为 diagonal sum in the continuous case，由 18 节的坐标变换公式，我们可以证明，diagonal sum 对于任何 representation 值都是相同的。

另外，因为 $|m\rangle$ normalized，在 $\xi'$ **离散**的条件下所以我们有：
$$
\sum_{\xi'}\langle\xi'|\rho|\xi'\rangle = \sum_{\xi',m}\langle\xi'|m\rangle P_m\langle m|\xi'\rangle = \sum_m P_m=1
$$
这对应了经典理论中概率密度之和为 1。由 18 节的公式，我们更是有 $\xi$ 取 $\xi'$ 的概率为：
$$
\sum_m|\langle \xi'|m\rangle|^2P_m=\langle\xi'|\rho|\xi'\rangle
$$
这也和上面的求和为 1 呼应上了。

Gibbs ensemble 的一个重要的应用就是温度为 $T$ 的热力学平衡态系统。Gibbs 证明了在经典系统中，这个密度为：
$$
\rho=ce^{-H/kT}
$$
其中 $H$ 是 Hamiltonian，和时间无关（应该是说平衡态的时候和时间无关），$k$ 是 Boltzmann's constant，我们可以直接把这个式子拿到量子理论中。在高温下，$\rho=c$，也就有了 $\langle\xi'|\rho\xi'\rangle=c\langle\xi'|\xi'\rangle=c$。所以**在高温场景下，所有离散状态的概率相同**。（这个结论在第 9 章用于论述玻色子的分布和经典统计力学的不同。）
