---
title: 测度论笔记（上）
date: 2023-11-14 21:30:00
tags: ["数学"]
---

看的是 IMPA 的 Measure Theory 课，教授是 Claudio Landim。

https://www.youtube.com/playlist?list=PLo4jXE-LdDTQq8ZyA8F8reSQHej3F6RFX

## Lecture 1 Introduction: a non-measurable set

我们希望有这样的一个衡量集合大小的函数 $\lambda$，满足：

0. $\lambda$ 为 $\mathcal{P}(\mathbb{R})\rightarrow \mathbb{R}_{+}\cup\{\infty\}$ 的函数，其中 $\mathcal{P}(\mathbb{R})$ 为 $\mathbb{R}$ 的全部子集；
1. $\lambda((a,b])=b-a$；
2. $\lambda(A+x)=\lambda(A)$，这里 $+x$ 指平移 $x$；
3. $\lambda(\cup_{j\ge1} A_j)=\sum_{j\ge1}\lambda(A_j)$。

但实际上同时满足以上条件的函数是不存在的。为了证明这件事，我们先定义一个等价关系：
$$
x\sim y: x,y\in \mathbb{R},\text{ if } y-x\in\mathbb{Q}
$$
并定义：$[x]=\{y\in\mathbb{R}|y-x\in\mathbb{Q}\}$。我们可以由之取 $\Omega$，满足 $\Omega$ 中任意 2 个元素都不等价。并且我们还可以进一步限定 $\Omega\in(0,1)$。我们可以证明 $\forall q,p\in\mathbb{Q},q\ne p \Rightarrow \Omega+q\cap\Omega+q=\varnothing$。

那么：
$$
\begin{aligned}
\lambda(\sum_{q\in\mathbb{Q},-1<q<1}(\Omega+q))=\sum_{q\in\mathbb{Q},-1<q<1}\lambda(\Omega+q)=\sum_{q\in\mathbb{Q},-1<q<1}\lambda(\Omega)\le\lambda((-1,2))=3
\end{aligned}
$$
得到了 $\lambda(\Omega)=0$

但是：
$$
(0,1)\subseteq\sum_{q\in\mathbb{Q},-1<q<1}(\Omega+q)
$$
所以 $\lambda(\Omega)\ne0$，矛盾了。

那么我们就需要释放放开上面的 4 条要求，这里我们选择放开第一条，也就是函数的定义域不能是全部的 $\mathcal{P}(\mathbb{R})$。

## Lecture 2 Classes of subsets (semi-algebras, algebras and sigma-algebras), and set functions

**定义** $\mathcal{P}(\Omega)\supseteq \mathcal{S}$，我们称 $\mathcal{S}$ 是一个 **semi-algebra**，如果它满足：

1. $\Omega\in\mathcal{S}$
2. $A,B\in\mathcal{S}\Rightarrow A\cap B\in\mathcal{S}$
3. $A\in\mathcal{S}\Rightarrow\exists E_1,...,E_n\in\mathcal{S}, A^c=\sum_{i=1}^nE_i$

一个例子是：
$$
\{(a,b],a<b,a,b\in\mathbb{R}\} \cup \{(-\infty,b],b\in\mathbb{R}\}\cup\{(a,\infty),a\in\mathbb{R}\}
$$
**定义** $\mathcal{P}(\Omega)\supseteq \mathcal{A}$，我们称 $\mathcal{A}$ 是一个 **algebra**，如果它满足：

1. $\Omega\in\mathcal{A}$
2. $A,B\in\mathcal{A}\Rightarrow A\cap B\in\mathcal{A}$
3. $A\in\mathcal{A}\Rightarrow A^c\in\mathcal{A}$

注意，由 2,3 可以推出 $A\cup B\in\mathcal{A}$，因为 $A\cup B=(A^c\cap B^c)^c$。

**定义** $\mathcal{P}(\Omega)\supseteq \mathcal{F}$，我们称 $\mathcal{F}$ 是一个 **$\sigma$-algebra**，如果它满足：

1. $\Omega\in\mathcal{F}$
2. $A_j\in\mathcal{F},(j\ge1)\Rightarrow \cap A_j\in\mathcal{F}$，这里下标 $j$ 是 countable 的
3. $A\in\mathcal{F}\Rightarrow A^c\in\mathcal{F}$

对于 algebra 和 $\sigma$-algebra，多个他们（有限个、可数个，不可数个）的并集也是 algebra 或 $\sigma$-algebra。

**定义**：algebra generated by the class $\mathcal{C}\subseteq\mathcal{P}(\Omega)$ 为 $\mathcal{A}(\mathcal{C})$，其满足：

- $\mathcal{C}\subseteq\mathcal{A}$
- $\forall \text{ algebra }\mathcal{B}, \text{ if }\mathcal{B}\supseteq\mathcal{C},\text{ then }\mathcal{B}\supseteq\mathcal{A}$

这样的 $\mathcal{A}(\mathcal{C})$ 显然是存在的，因为我们可以取所有包含 $\mathcal{C}$ 的 algebra 的交（一定有包含 $\mathcal{C}$ 的 algebra，因为 $\mathcal{P}(\Omega)$ 就是一个）就是 $\mathcal{A}(\mathcal{C})$。

这样的定义显然可以扩展至 $\sigma$-algebra generated by the class $\mathcal{C}$。

我们之后会介绍，由 semi-algebra generate 出的 algebra 是很简单的，它的每个元素会是这个 semi-algebra 的有限个元素的交。但是从 semi-algebra 生成出来的 $\sigma$-algebra 我们就不知道是啥样的了（没有显式解）。这也是将测度从 semi-algebra 扩展至尤其生成的 $\sigma$-algebra 的难点。

**引理**：$\mathcal{S}\subseteq\mathcal{P}(\Omega)$，且 $\mathcal{S}$ 是 semi-algebra，如果 $\mathcal{A}(\mathcal{S})$ 是**生成**的 algebra，那么：
$$
A\in\mathcal{A}(\mathcal{S})\Longleftrightarrow\exists E_j,1\le j\le n,E_j\in\mathcal{S}, A=\sum_{j=1}^nE_j
$$

- $\Leftarrow$ 是显然的，因为 algebra close on 补集和交集。

- $\Rightarrow$：定义 $\mathcal{B}=\{\sum_{j=1}^nF_j|F_j\in\mathcal{S}\}$，那么我们可以证明

  -  $\mathcal{B}$ 是 algebra（这里做一些集合的运算就能得到了）
  - $\mathcal{B}\supseteq \mathcal{S}$（显然）

  即 $\mathcal{B}\supseteq \mathcal{A}(\mathcal{S})$，也就证明了 $\Rightarrow$。

**定义** $\mathcal{C}\subseteq \mathcal{P}(\Omega),\varnothing\in\mathcal{C}$，定义函数 $\mu: \mathcal{C}\rightarrow \mathbb{R}_+\cup\{+\infty\}$，我们称 $\mu$ **additive**，如果：

- $\mu(\varnothing)=0$
- $E_1,E_2,...,E_n\in\mathcal{C}, E_i\cap E_j=\varnothing$，且有 $E=\sum_{i=1}^nE_i$，则 $\mu(E)=\sum_{i=1}^n\mu(E_i)$

例子：对于离散集合，定义 discrete measure：$\mu(A)=\sum_{j\ge1}P_j1\{x_j\in A\}$，满足 additive。

**定义** $\mathcal{C}\subseteq \mathcal{P}(\Omega),\varnothing\in\mathcal{C}$，定义函数 $\mu: \mathcal{C}\rightarrow \mathbb{R}_+\cup\{+\infty\}$，我们称 $\mu$ **$\sigma$-additive**，如果：

- $\mu(\varnothing)=0$
- $E_j\in\mathcal{C}, E_i\cap E_j=\varnothing$，且有 $E=\sum_{j\ge1}\mu(E_j)\in\mathcal{C}$，则 $\mu(E)=\sum_{j\ge1}\mu(E_j)$

例子：$\mathcal{C}=\{(a,b]|0\le a<b<1\}$，定义：
$$
\mu((0, b])=+\infty\\
\mu((a,b])=b-a
$$
那么这个 $\mu$ 是 additive 而**不是** $\sigma$-additive 的（就是搞了个求极限的情况，可以用交集去逼近 0）。

## Lecture 3 Set functions

**定义**：对于 $\mu:\mathcal{C}\rightarrow \mathbb{R}_+\cup\{+\infty\}$，我们给出 2 种连续的定义：

- 我们称 $\mu$ continuous from below $E\in\mathcal{C}$，如果 $\forall (E_n)_{n\ge1},E_n\in\mathcal{C},E_n\uparrow E$（即，$E_n\subseteq E_{n+1},\cup_{n\ge1}E_n=E$），那么 $\mu(E_n)\rightarrow \mu(E)$；

- 我们称 $\mu$ continuous from above $E\in\mathcal{C}$，如果 $\forall (E_n)_{n\ge1},E_n\in\mathcal{C},E_n\downarrow E$（即，$E_n\supseteq E_{n+1},\cap_{n\ge1}E_n=E$），并且 $\exists n_0,\mu(E_{n_0})<\infty$，那么 $\mu(E_n)\rightarrow \mu(E)$；

**引理**：$\mathcal{A}\subseteq \mathcal{P}(\Omega)$ 是一个 **algebra**，且 $\mu:\mathcal{A}\rightarrow \mathbb{R}_+\cup\{+\infty\}$，且 $\mu$ additive，那么：

1. $\mu$  $\sigma$-additive $\Rightarrow$ $\mu$ continuous at $\forall E\in\mathcal{A}$（这里指即 from below，又 from above）
2. $\mu$ continous from below（at all set）$\Rightarrow$ $\mu$  $\sigma$-additive
3. $\mu$ continous from above at $\varnothing$，且 $\mu$ finite $\Rightarrow$ $\mu$  $\sigma$-additive


- 1 的证明比较简单。对于 from below 的情况，我们可以令定义中的 $E_{n+1}=E_{n}\cup (E_{n+1}|E_n)$；

  对于 from above 的情况，我们可以取定义中的 $n_0$，并发现 $E_{n_0}|E_{n}$ 是 $\uparrow$ 的，就可以用 $\sigma$-additive 的性质了。

- 证明 2，我们假设 $E=\sum_{k\ge1}E_k$，可以取 $F_n=\sum_{k=1}^nE_k$，那么我们由连续性，因为 $F_n\uparrow E$，有 $\mu(F_n)\rightarrow \mu(E)$，配合 additive，就可以证明了。

- 证明 3 则是反过来，令 $F_n=E|\sum_{k=1}^nE_k$，那么 $F_n\downarrow \varnothing$，由连续性，$\mu(F_n)\rightarrow0$，配合 additive 就可以证明了。

注意：

- 3 的 finite 条件是必须的，不然 lecture 2 最后的那个例子也是满足 3 的（为啥满足 continuous from above at $\varnothing$ 老师说之后会讲，我不太明白...）
- 我们经常需要证明 $\mu$ 是 $\sigma$-additive 的，所以 2,3 比较实用
- （个人理解）需要记住 $\sigma$ 属性和连续性相关

**定理**：假设在 semi-algebra $\mathcal{S}\subseteq\mathcal{P}(\Omega)$ 上有一个 additive 的 $\mu$，那么存在一个在 algebra $\mathcal{A}(\mathcal{S})$ 上的 $\nu$，满足：

1.  是 additive 的
2. $\nu(A)=\mu(A),\forall A\in\mathcal{S}$，即是 $\mu$ 的 extension
3. 对于都在 $\mathcal{A}(\mathcal{S})$ 上的 additive 的 $\mu_1,\mu_2$，如果 $\mu_1(A)=\mu_2(A),\forall A\in\mathcal{S}$，那么 $\mu_1(E)=\mu_2(E),\forall E\in\mathcal{A}(\mathcal{S})$，即是唯一的

- 我们要使用 $\mathcal{A}(\mathcal{S})$ 的特点，即 $A\in\mathcal{A}(\mathcal{S})\Rightarrow A=\sum_{j=1}^nE_j,E_j\in\mathcal{S}$。那么一个很显然的定义是：
  $$
  \nu(A)=\sum_{j=1}^n\mu(E_j)
  $$
  我们需要首先证明这个定义是 well defined，即对于不同的 $A$ 的拆分，都有相同的结果，这个可以通过对 2 中拆分做交集来得到。

  由这个定义，由 $\mu$ 是 additive 的，很显然 $\nu$ 是 additive 的，同样 2 也是很显然的。对于 uniqueness 的证明，因为他们是 additive 的，自然加起来扩充至 alegbra 也是相等的。

**定理**：上面的定理，把 additive 换成 $\sigma$-additive 也是成立的。

- 仍然沿用之前的 $\nu$ 的定义，我们要证明 $\nu$ 是 $\sigma$-additive 的，即 $\nu(A)=\sum_{k\ge1}\nu(A_k)$。我们可以把 $A=\sum_{j=1}^nE_j$ 中的 $E_j$ 变成 $E_j\cap A$ 对应 $E_j\cap A_k$，而 $A_k$ 又可以进一步拆成 $E_{jk}$，就能纳入 $\mathcal{S}$ 了，可以用 $\mu$ 的 $\sigma$-additive 的性质证明。

  extension 和 uniqueness 的证明和之前没有区别。

注意：这相当于把 $\sigma$-additive 从 semi-algebra 推广到了 algebra。

## Lecture 4 Caratheodory theorem

这节课主要是证明我们可以把 $\mathcal{A}(\mathcal{S})$ 上 $\sigma$-additive 的 $\nu$ 扩展到 $\mathcal{F}(\mathcal{A})$ 上的 $\pi$，使得 $\pi$ 也是 $\sigma$-additive 的，并且是唯一的。

证明的思路是：

1. 证明在 $\mathcal{P}(\Omega)$ 上存在一个 $\pi^*$，它是一个 outer measure（之后会定义）
2. 引入 $\mathcal{M}\subseteq\mathcal{P}(\Omega)$，我们会证明 $\mathcal{M}$ 是 $\sigma$-algebra，它包含 algebra $\mathcal{A}$（也就包含 $\mathcal{F}(\mathcal{A})$）
3. 我们考虑只在 $\mathcal{M}$ 上的 $\pi^*|_{\mathcal{M}}$，它是 $\sigma$-additive 的，以及 $\pi^*|_{\mathcal{A}}=\nu$
4. 证明在特定条件下 $\pi$ 是唯一的

**定义**：
$$
\pi^*(A)=\inf_{\{E_i\}}\sum_{i\ge1}\nu(E_i)
$$
其中 $\{E_i, i\ge1\}$ 满足 $E_i\in\mathcal{A}$，且 $A\subseteq\cup E_i$（covering）。（注意到，因为 $\Omega\in\mathcal{A}$，所以一定是存在这样的 covering $\{E_i, i\ge1\}$ 的。）

**定义**：$\mu:\mathcal{C}\rightarrow\mathbb{R}\cup\{+\infty\}$ 为 **outer measure**，即：

- $\mu(\varnothing)=0$
- $E\subseteq F,\ E,F\in\mathcal{C}\Rightarrow\mu(E)\le\mu(F)$
- $E,E_i\in\mathcal{C},E=\cup_i E_i\Rightarrow\mu(E)\le\sum_i\mu(E_i)$

下面我们证明上面定义的 $\pi^*$ 是 outer measure。

- $\pi^*(\varnothing)=0$ 比较显然。第二条，$F$ 的 covering 肯定是 $E$ 的 covering。第三条，也是可以从 covering 的角度来看，比较显然。

**定义**：measurable set $\mathcal{M}\subseteq\mathcal{P}(\Omega)$ 满足
$$
\mathcal{M}=\{A|\forall E\in\Omega,\pi^*(E)=\pi^*(E\cap A)+\pi^*(E\cap A^c) \}
$$
我们称 $\mathcal{M}$ 的元素为 measurable 的。

我们接下来证明

- $\mathcal{M}\supseteq \mathcal{A}$
- $\mathcal{M}$ 是 $\sigma$-algebra

对于第一条，因为 $E\subseteq(E\cap A)\cup(E\cap A^c)$，所以 $\pi^*(E)\le\pi^*(E\cap A) + \pi^*(E\cap A^c)$，那么我们只需要证明 $A\in\mathcal{A}$ 满足反向的 $\pi^*(E)\ge\pi^*(E\cap A) + \pi^*(E\cap A^c)$ 就行了。

这里我们不妨假设 $\pi^*(E)$ 是有限的。那么对于任意 $\varepsilon$，我们可以选一个 $E$ 的 covering，满足 $\sum_{j\ge1}\pi^*(E_j)\le\pi^*(E)+\varepsilon$，把这个 covering 的每个元素分别和 $A$ 与 $A^c$ 取交，由于 $E_j,A\in\mathcal{A}$，就有 $\pi^*(E_j)=\pi^*(E_j\cap A)+\pi^*(E_j\cap A^c)$ 就能证明能有 $\pi^*(E\cap A) + \pi^*(E\cap A^c)\le\pi^*(E) + \varepsilon$。

为了证明第二条，我们需要依次证明 $\mathcal{M}$ 符合 $\sigma$-algebra 的 3 个特性：

1. $\Omega\in\mathcal{M}$ 这是因为 $\pi^*(E)=\pi^*(E\cup\Omega)+\pi^*(E\cup\Omega^c)$

2. $A\in\mathcal{M}\Rightarrow A^c\in\mathcal{M}$，这是显然的

3. $A_j\in\mathcal{M}\Rightarrow \cup_j A_j\in\mathcal{M}$

   这里我们需要先证明对于有限的 $A_j$ 这是成立的，也就是证明 $A\cup B\in\mathcal{M}$，这个可以通过一些集合操作 + covering 定义来做。

   那么对于可数个 $A_j$ 的情况。因为
   $$
   \begin{aligned}
   \pi^*(E)&=\pi^*(E\cap\cup_{j=1}^n A_j)+\pi^*(E|\cup_{j=1}^n A_j)\\
   &\ge \pi^*(E\cap\cup_{j=1}^n A_j)+\pi^*(E|A)\\
   &=\pi^*(E\cap\sum_{j=1}^n F_j)+\pi^*(E|A)
   \end{aligned}
   $$
   其中 $F_j=A_j|\cup_{k=1}^{j-1}A_k$，$F_j$ 的一个特点是两两 disjoint。可以用归纳法证明（主要是用 $F_j\in\mathcal{M}$）：
   $$
   \pi^*(E\cap\sum_{j=1}^n F_j)=\sum_{j=1}^n\pi^*(E\cap F_j)
   $$
   所以我们有：
   $$
   \begin{aligned}
   \pi^*(E)&\ge\sum_{j\ge1}\pi^*(E\cap F_j)+\pi^*(E|A)\quad\text{（这里求了极限）}\\
   &\ge\pi^*(E\cap \cup_jF_j)+\pi^*(E|A)\quad\text{（这里用了 outer measure 的性质）}\\
   &=\pi^*(E\cap A)+\pi^*(E|A)
   \end{aligned}
   $$
   所以我们会有 $\pi^*(E)=\pi^*(E\cap A)+\pi^*(E\cap A^c)$ ，证毕。

下一步我们证明 $\pi^*|_\mathcal{M}$ 是 $\sigma$-additive 的，以及 $\pi^*(A)=\nu(A),\forall A\in\mathcal{A}$。

很显然 $\nu(A)\ge\pi^*(A)$，因为 $A$ 自己就是一个 covering。反过来，我们还可以把任意 covering 用上面的 $F_j$ 表示，并拆成 $F_j\cap A$ 和 $F_j\cup A^c$，就能证明了。所以 $\pi^*(A)=\nu(A)$。

证明 $\sigma$-additive，注意由上面归纳法证明的那个结论，有 $\pi^*(\sum_jA_j)\ge\pi^*(\sum_{j=1}^nA_j)=\sum_{j=1}^n\pi^*(A_j)$，所以再加上反向的 $\pi^*(\sum_jA_j)\le\sum_j\pi^*(A_j)$，就证明了 $\pi^*|_\mathcal{M}$ 是  $\sigma$-additive 的。

最后我们来证明唯一性。

具体来说，假设我们在 $\mathcal{F}(\mathcal{A})$ 上有 $\mu_1,\mu_2$，他们都是 $\sigma$-additive 的，且有 $\mu_1|_\mathcal{A}=\mu_2|_\mathcal{A}$，并且 $\Omega$ 是 $\mu_1$ $\sigma$-finite 的（如果 $\exists E_j\uparrow\Omega$，而且 $\mu_1(E_j)<\infty$）并且对于唯一性，我们还需要 $\sigma$-finite 中用的 $E_j\in\mathcal{A}$，那么 $\mu_1=\mu_2$。

这个证明需要 monotone class，所以我们先来定义一下。

**定义**：$\mathcal{G}\subseteq\mathcal{P}(\Omega)$，我们称 $\mathcal{G}$ 为 **monotone class**，如果：

- $A_j\in\mathcal{G},(j\ge1),A_j\subseteq A_{j+1}\Longrightarrow A=\cup_{j\ge1}A_j\in\mathcal{G}$
- $B_j\in\mathcal{G},(j\ge1),B_{j+1}\subseteq B_{j}\Longrightarrow B=\cap_{j\ge1}B_j\in\mathcal{G}$

**断言**：$\cap_{\alpha\in I}\mathcal{G}_\alpha$ 也是 monotone class。

我们可以对应的有 $\mathcal{G}(C)$ 是 monotone class generated by $C$。

**引理**：$\mathcal{A}\subseteq\mathcal{P}(\Omega)$ 是 algebra，由他生成的 monotone class $\mathcal{M}(\mathcal{A})$ 满足 $\mathcal{M}(\mathcal{A})=\mathcal{F}(\mathcal{A})$。

- 注意，这个引理很重要，证明会放到下一讲

回来证明唯一性。那么根据 $\Omega$ 的 $\sigma$-finite 性，我们取那一系列 $\{E_j\}$，对于任意一个 $E_j$，可以构造：
$$
\mathcal{B}_j=\{E\in\mathcal{F}(\mathcal{A})|\mu_1(E\cap E_j)=\mu_2(E\cap E_j)\}
$$
我们接下来证明 $\mathcal{B}_j=\mathcal{F}(\mathcal{A})$，也就是只需证明 $\mathcal{B}_j\supseteq\mathcal{F}(\mathcal{A})$，那么这分 2 步：

- $\mathcal{B}_j\supseteq \mathcal{A}$。这是显然的，因为 $\mathcal{A}$ 的元素显然满足 $\mathcal{B}_j$ 的条件；

- $\mathcal{B}_j$ 是 monotone class。证明这点，我们需要分别证明 monotone class 的 2 个要求。

  - 对于 $A_i\in\mathcal{B}_j, A_i\uparrow,A=\cup_{i\ge1}A_i$，因为 $\mu_1,\mu_2$ 为 $\sigma$-additive 的，所以 continuous from below，就有 $\mu_1(A_i\cap E_j)=\mu_2(A_i\cap E_j)\rightarrow \mu_1(A\cap E_j)=\mu_2(A\cap E_j)$，即 $A\in\mathcal{B}_j$
  - 对于 $B_i\in\mathcal{B}_j,B_i\downarrow,B=\cap_{i\ge1}B_i$，因为 $\mu_1,\mu_2$ 为 $\sigma$-additive 的，所以 continuous from above，加上 $\Omega$ 是 $\sigma$-finite 的，即我们取了 $\mu_1(E_j)<\infty$，所以有 $\mu_1(B_i\cap E_j)=\mu_2(B_i\cap E_j)\rightarrow \mu_1(B\cap E_j)=\mu_2(B\cap E_j)$，即 $B\in\mathcal{B}_j$

  所以 $\mathcal{B}_j$ 是 monotone class，因此 $\mathcal{B_j}\supseteq \mathcal{M}(\mathcal{A})=\mathcal{F}(\mathcal{A})$。

进一步，因为 $\mathcal{B}_j=\mathcal{F}(\mathcal{A})$，所以 $\mu_1(E\cap E_j)=\mu_2(E\cap E_j)$，利用 continous from below，$\mu_1(E\cap E_j)=\mu_2(E\cap E_j)\rightarrow \mu_1(E\cap \Omega)=\mu_2(E\cap \Omega)$，所以 $\mu_1(E)=\mu_2(E)$。证明了唯一性。

这里引入 monotone class 极大地化简了证明。

另外，对于 measurable $\mathcal{M}$，我们会证明，在特定情况下，$\mathcal{M}\supset\mathcal{F}(\mathcal{A})$。

## Lecture 5 Monotone classes

重新写一下 monotone classes 的定义：

**定义**：$\mathcal{M}\subseteq\mathcal{P}(\Omega)$，我们称 $\mathcal{M}$ 为 **monotone class**，如果：

- $A_j\in\mathcal{M},(j\ge1),A_j\subseteq A_{j+1}\Longrightarrow A=\cup_{j\ge1}A_j\in\mathcal{M}$
- $B_j\in\mathcal{M},(j\ge1),B_{j+1}\subseteq B_{j}\Longrightarrow B=\cap_{j\ge1}B_j\in\mathcal{M}$

有这样的几个比较显然的结论：

- $\mathcal{F}$ 是 $\sigma$-field（$\sigma$-algebra 的别称）$\Rightarrow$ $\mathcal{F}$ 是 monotone class
- $\mathcal{M}_{\alpha}\subseteq\mathcal{P}(\Omega), \alpha\in I$，$\mathcal{M}_\alpha$ 是 monotone class $\Rightarrow$ $\cap_{\alpha\in I}\mathcal{M}_\alpha$ 是 monotone class

进一步，我们可以引入 $\mathcal{M}(\mathcal{C})=\cap_{\alpha}\mathcal{M}_\alpha$，其中 $\mathcal{C}\subseteq\mathcal{M}_\alpha$，为 monotone class generated by $\mathcal{C}$。

那么我们 主要来证明上一节用到的定理：

**定理**：$\mathcal{A}\subseteq\mathcal{P}(\Omega)$ 是 algebra，则 $\mathcal{F}(\mathcal{A})= \mathcal{M}(\mathcal{A})$

- 由 $\mathcal{M}(\mathcal{A})$ 的定义，加上 $\mathcal{F}$ 是 monotone class，显然 $\mathcal{F}(\mathcal{A})\supseteq\mathcal{M}(\mathcal{A})$

- 那么反过来，我们只需要证明 $\mathcal{M}(\mathcal{A})$ 是 $\sigma$-algebra 即可

  - 我们先要去证明 $\mathcal{M}(\mathcal{A})$ 是 algebra。

    对于 $E\in\mathcal{M}(\mathcal{A})$，构造 $\mathcal{G}(E)=\{F\in\mathcal{M}(\mathcal{A})|\ E|F,E\cap F,F|E\in\mathcal{M}(\mathcal{A})\}$。

    我们先要去证明对于 $E\in\mathcal{A}$，$\mathcal{G}(E)$ 包含 $\mathcal{A}$，且是 monotone class，所以 $\mathcal{G}(E)\supseteq\mathcal{M}(\mathcal{A})$。

    - $\mathcal{G}(E)$ 包含 $\mathcal{A}$ 是显然的，因为 $\mathcal{G}(E)$ 中的那 3 项都会在 $\mathcal{A}$ 中。

    - $H_k\uparrow H, H_k\in\mathcal{G}(E)$，那么：

      $E|H_k\in\mathcal{M}(\mathcal{A}), E|H_k\downarrow E|H$，由于 monotone class 的性质，$E|H\in\mathcal{M}(\mathcal{A})$

      $E\cap H_k\in\mathcal{M}(\mathcal{A}), E\cap H_k\uparrow E\cap H$，由于 monotone class 的性质，$E\cap H\in\mathcal{M}(\mathcal{A})$

      $H_k|E\in\mathcal{M}(\mathcal{A}), H_k|E\uparrow H|E$，由于 monotone class 的性质，$H|E\in\mathcal{M}(\mathcal{A})$

      所以 $H\in\mathcal{G}(E)$。

    - 反过来（$H_k\downarrow H$）也是一样，所以 $\mathcal{G}(E)$ 是 monotone class

    因此对于 $E\in\mathcal{A}$， $\mathcal{G}(E)\supseteq \mathcal{M}(\mathcal{A})$。
    
    我们接下来证明，对于 $E\in\mathcal{M}(\mathcal{A})$，$\mathcal{G}(E)\supseteq \mathcal{M}(\mathcal{A})$。
    
    - 证明 $\mathcal{G}(E)$ 是 monotone class 的方式和前面相同
    - 对于 $H\in\mathcal{A}$，我们需要证明 $E|H,E\cap H,H|E\in\mathcal{M}(\mathcal{A})$。这里因为前面证明了 $\mathcal{G}(H)\supseteq\mathcal{M}(\mathcal{A})$，所以 $E\in\mathcal{G}(H)$，所以也就证明了上面的这 3 个。所以我们证明了 $\mathcal{G}(E)\supseteq \mathcal{A}$
    
    所以对于 $E\in\mathcal{M}(\mathcal{A})$，$\mathcal{G}(E)\supseteq \mathcal{M}(\mathcal{A})$。
    
    回来证明 $\mathcal{M}(\mathcal{A})$ 是 algebra。
    
    - $\Omega\in\mathcal{M}(\mathcal{A})$，这个显然
    - $E\in\mathcal{M}(\mathcal{A})$，由于 $\Omega\in\mathcal{M}(\mathcal{A})$，有 $E\in\mathcal{G}(\Omega)$，所以 $E^c\in\mathcal{M}(\mathcal{A})$
    - $E,F\in\mathcal{M}(\mathcal{A})$，因为 $F\in\mathcal{G}(\Omega)$，所以 $E\cap F\in\mathcal{M}(\mathcal{A})$
    
    所以 $\mathcal{M}(\mathcal{A})$ 是 algebra。
    
  - 我们接下来证明 $\mathcal{M}(\mathcal{A})$ 是 algebra。
    
    考虑 $A_j\in\mathcal{M}(\mathcal{A})$，由于 $\mathcal{M}(\mathcal{A})$ 是 algebra，所以 $\cup_{j=1}^nA_j\in\mathcal{M}(\mathcal{A})$，而 $\cup_{j=1}^nA_j\uparrow A$，所以 $A\in\mathcal{M}$，所以 $\mathcal{M}(\mathcal{A})$ 是 algebra。
    
  
  由此，我们证明了 $\mathcal{M}(\mathcal{A})=\mathcal{F}(\mathcal{A})$。

## Lecture 6 The Lebesgue measure

考虑如下的 semi-algebra：
$$
\mathcal{S}=\{\varnothing, \mathbb{R},(a,b],(a,\infty),(-\infty,b]\}
$$
我们定义 $\mu: \mathcal{S}\rightarrow\mathbb{R}\cup\{+\infty\}$：
$$
\mu(\varnothing)=0,\quad\mu((a,b])=b-a,\quad\mu((-\infty,b])=+\infty\\
\mu(\mathbb{R})=+\infty,\quad\mu((a,\infty))=+\infty
$$
我们接下来证明 $\mu$ 是 $\sigma$-additive 的，即：
$$
A\in\mathcal{S},A_j\in\mathcal{S},A_i\cap A_j=\varnothing,A=\sum_{j\ge1}A_j\Longrightarrow \mu(A)=\sum_{j\ge1}\mu(A_j)
$$
这里我们直接去证明 $\mu$ 扩展至 $\mathcal{A}(\mathcal{S})$ 的 $\nu$ 是 $\sigma$-additive 的（显然他们都是 additive 的，所以可以进行这样的唯一扩展），因为像 $(a,b]\cup(c,d]$ 这样的集合在 $\mathcal{S}$ 上是没有定义的，而在证明中我们需要这样的集合。

- 我们有 $A\supseteq\sum_{j=1}^nA_j$，所以 $\nu(A)\ge\nu(\sum_{j=1}^nA_j)=\sum_{j=1}^n\nu(A_j)$，取极限，有 $\nu(A)\ge\sum_{j\ge1}\nu(A_j)$。
- 我们不妨先假设 $A=(a,b]$，那么 $A_j=(a_j,b_j]$，所以 $\nu(A)=b-a,\nu(A_j)=b_j-a_j$，显然，$(a,b]=\sum_{j\ge1}(a_j,b_j]$，所以可以证明 $b-a-\varepsilon\le\sum_{j=1}^n(b_j-a_j)+\varepsilon$。
- 那么对于任意的 $A\in\mathcal{S}$，我们取 $E_n=(-n,n],E_n\uparrow\mathbb{R},\nu(E_n)=2n<\infty$，那么 $A\cap E_n\in\mathcal{S}$ 且是有限的，所以由上面一条 $\nu(A\cap E_n)=\sum_{j\ge1}\nu(A_j\cap E_n)\le\sum_{j\ge1}\nu(A_j)$。我们还有 $\nu(A)=\lim_{n\rightarrow\infty}\nu(A\cap E_n)$，所以 $\nu(A)\le\sum_{j\ge1}\nu(A_j)$。

所以 $\nu(A)=\sum_{j\ge1}\nu(A_j)$，所以 $\nu$ 在 $\mathcal{S}$ 上 $\sigma$-additive，所以也就在 $\mathcal{A}(\mathcal{S})$ 上 $\sigma$-additive。再由 Caratheodory theorem，我们可以进一步扩展至 $\mathcal{F}(\mathcal{A})$。并且，考虑到这个 extension 是 $\sigma$-additive 的，在加上我们可以用 finite 的 $E_n=(-n,n]$ 构建出 $\mathbb{R}$，也就是 $\mathbb{R}$ 是 $\sigma$-finite 的，所以扩展是唯一的。

## Lecture 7 The Lebesgue measure, II

我们用另一种方法证明 lebesgue measure 是 $\sigma$-additive 的。这种方法是基于实数的某些拓扑性质得到的。

先跳过吧~

## Lecture 8 Complete measures

**定义**：$\sigma$-algebra $\mathcal{F}\subseteq\mathcal{P}(\Omega)$，$\mu:\mathcal{F}\rightarrow \mathbb{R}_+\cup\{+\infty\}$ 为 $\sigma$-additive 的（我们称之为 measure），我们称 $(\mathcal{F},\mu)$ 为 **complete** 的，如果
$$
\forall A\in\mathcal{F},\mu(A)=0,E\subseteq A\Longrightarrow E\in\mathcal{F}
$$
并称这样的 $E$ 为 **negligible set**。

其实定义里没用 $\mathcal{F}$ 是 $\sigma$-algebra，不过我们一般都会在 $\sigma$-algebra 的情况下用。

我们下面考虑去由 $\mathcal{F}$ 扩展至 $\bar{\mathcal{F}}$，并由$\mu$ 扩展至 $\bar{\mu}$，使得：

- $\bar{\mu}|_{\mathcal{F}}=\mu$
- $(\bar{\mu},\bar{\mathcal{F}})$ 是 complete 的
- 这样的扩展是 unique 的

我们定义：
$$
\bar{\mathcal{F}}=\{A\cup N|A\in\mathcal{F},N\subseteq E\in\mathcal{F},\mu(E)=0\}
$$
我们来证明 $\bar{\mathcal{F}}$ 是 $\sigma$-algebra。

1. $\Omega\in\bar{\mathcal{F}}$，因为 $\Omega=\Omega\cup\varnothing$
2. $A\in\bar{\mathcal{F}}\Rightarrow A=E\cup N,N\subseteq H,\mu(H)=0\Rightarrow A^c=(E\cup H)^c\cup(H|N)$，因为 $\mu(H|N)=0$，所以 $A^c\in\bar{\mathcal{F}}$
3. $(A_j)_{j\ge1},A_j\in\bar{\mathcal{F}}\Rightarrow \cup_{j\ge1}A_j=\cup_{j\ge1}(E_j\cup H_j)=\cup_{j\ge1}E_j\cup\cup_{j\ge1}H_j\in\bar{\mathcal{F}}$

进一步，有 $\mu(A)\le\bar{\mu}(A\cup N)\le\mu(A)+\mu(E)=\mu(A)$，所以我们定义：
$$
\bar{\mu}(A\cup N)=\mu(A)
$$
我们可以证明这样的 $\bar{\mu}$ 定义是 well defined。这个证明感觉比较 trival，就不记了（大致是证明 $\mu(A)\le \mu(B),\mu(B)\le\mu(A)$）。

$\bar{\mu}|_{\mathcal{F}}=\mu$ 是显然的。

我们接下来证明 $\bar{\mu}$ 是 $\sigma$-additive 的。也就是考虑 $A_j\in\bar{\mathcal{F}},A_i\cap A_j=\varnothing,A_j=E_j\cup N_j,N_j\subseteq H_j$。那么 $A=\sum_{j\ge1}E_j\cup\sum_{j\ge1}N_j$，用 $\mu$ 的 $\sigma$-additive，可以证明 $\bar{\mu}$ 是 $\sigma$-additive 的，或者说 $\bar{\mu}$ 是 measure。

最后我们来证明 $(\bar{\mu},\bar{\mathcal{F}})$ 是 complete 的。

由 complete 的定义，$\forall \bar{\mu}(A)=0,A\in\bar{\mathcal{F}}$，也就是 $A=B\cup N,N\subseteq H\in\mathcal{F},\mu(H)=0$，那么 $E\subseteq A\subseteq B\cup H$，而 $B\cup H\in\mathcal{F}$，所以 $\mu(B\cup H)\le \mu(B) + \mu(H)=\mu(B)$。再因为 $\bar{\mu}(A)=0$，所以 $\mu(B)=0$ 即 $\mu(B\cup H)=0$。所以我们可以取 $E=\varnothing\cup E$，得到了 $E\in\bar{\mathcal{F}}$，也就证明了完备性。

最后来看唯一性。也就是对于 $\mu:\mathcal{F}\rightarrow \mathbb{R}_+\cup\{+\infty\}$，我们如上定义 $\bar{\mathcal{F}}$，或者写成 $\bar{\mathcal{F}}_\mu$，那么如果有另外一个 measure $\nu: \bar{\mathcal{F}}_\mu\rightarrow \mathbb{R}_+\cup\{+\infty\}$，如果对于 $\forall A\in\mathcal{F},\nu(A)=\mu(A)$，那么 $\forall A\in\bar{\mathcal{F}},\nu(A)=\bar{\mu}(A)$。

- 设 $B\in\bar{\mathcal{F}}_\mu,B=E\cup N,N\subseteq H$，那么
  $$
  \bar{\mu}(B)=\mu(E)=\nu(E)\le\nu(B)
  $$
  另一方面：
  $$
  \nu(B)=\nu(E\cup N)\le \nu(E\cup H)\le \nu(E)+\nu(H)=\mu(E)=\bar{\mu}(B)
  $$
  所以 $\nu(B)=\bar{\mu}(B)$。证明了唯一性。

所以我们从 $\mathcal{F}$ 扩充到了更大的 $\bar{\mathcal{F}}$，这个 $\bar{\mathcal{F}}$ 仍然是 $\sigma$-algebra，我们还扩充 $\mu$ 到了 $\bar{\mu}$，并发现 $(\bar{\mu},\bar{\mathcal{F}})$ 是 complete 的，以及 $\bar{\mu}$ 这种扩展是唯一的。也就证明了我们可以 complete a measure。

**断言**：Caratheodory theorem 时候用的 $(\pi^*,\mathcal{M})$ 是 complete 的。

也就是证明：
$$
\begin{aligned}
\forall B\in\mathcal{M},\pi^*(B)=0,A\subseteq B &\Rightarrow A\in\mathcal{M}\\
&\Rightarrow \forall E\in\Omega, \pi^*(E)=\pi^*(E\cap A)+\pi^*(E\cap A^c)
\end{aligned}
$$

- 因为 $\pi^*$ 是 outer measure，所以 $\pi^*(E)\le\pi^*(E\cap A)+\pi^*(E\cap A^c)$
- 证明反向，$\pi^*(E\cap A)\le\pi^*(A)\le\pi^*(B)=0$，而 $\pi^*(E)\ge\pi^*(E\cap A^c)$ 显然。

## Lecture 9 Approximation Theorems

之前的几讲的结论中提到，如果有一个 outer measure $\pi^*$ 对应了某个定义在某个 $\sigma$-algebra 上的 measure $\mu$。如果 $\pi^*(A)<\infty,A\in \mathcal{M}$，我们可以找到某个 $F\in\mathcal{F}(\mathcal{A})$，使得 $A\subseteq F,\pi^*(A)=\pi^*(F)$。

- 这个好像前面没讲过，我这里试着构造一下。貌似这里的 $\pi^*$ 指的是 Caratheodory theorem 里的那个，那么考虑这样的一个 covering 序列，$\{E_{n,j}\}_{j\ge1}$，满足 $E_{n,j}\in\mathcal{A}, A\subseteq\cup_{j\ge1}E_{n,j}, \sum_{j\ge1}\pi^*(E_{n,j})<\pi^*(A)+\frac{1}{2^n}$，并令 $F_n=\cup_{j\ge1}E_{n,j}\in\mathcal{F}(\mathcal{A}), F=\cap_{n\ge1}F_n$，则 $F$ 满足条件。

也就是可以用 $\mathcal{F}$ 中的元素近似 $\mathcal{M}$ 中的元素。那么如果我们希望用 $\mathcal{A}$ 中的元素近似的话，会有如下的定理：

**定理**：$\mathcal{A}\in\mathcal{F}(\Omega)$ 是 algebra，$\mathcal{F}=\mathcal{F}(\mathcal{A})$，measure $\mu: \mathcal{F}\rightarrow \overline{\mathbb{R}}_+$，
$$
\forall A\in\mathcal{F},\mu(A)<\infty \Rightarrow \exists E\in\mathcal{A},\mu(E|A)+\mu(A|E)<\varepsilon
$$

- 我们仍然取 $\pi^*(A)=\inf_{\{A_i\},A_i\in\mathcal{A},A\subseteq\cup A_i}\sum_{i\ge1} \nu(A_i)$。这里的符号满足 $\mu|_{\mathcal{F}}=\pi^*|_{\mathcal{F}},\nu|_{\mathcal{A}}=\pi^*|_{\mathcal{A}}$

  那么我们可以取 $\{A_i\}$ 满足 $\pi^*(A)\le\sum_{i\ge1}\pi^*(A_i)\le\pi^*(A)+\varepsilon$，那么 $\exists n_0,\sum_{i\ge n_0}\nu(A_i)\le\varepsilon$。这时我们可以取 $E=\cup_{i=1}^{n_0}A_i$。

如果 $\Omega$ 是 $\sigma$-finite（且和前面唯一性的要求一样，要求每个 $E_i\in\mathcal{A}$），那么我们可以把 $\mu$ 扩展至 $\bar{\mu}:\bar{\mathcal{F}}\rightarrow \overline{\mathbb{R}}_+$，即 the completion of $\mathcal{F}$ with regard to $\mu$，上面的证明仍然可以复用，所以也有上面的这个 approximation theorem。这里 $\sigma$-finite 是为了唯一性。

下面，我们要开始使用 $\Omega$ 的**拓扑性质**了。

**定义**：$\Omega$ 是 topological space，$\mathcal{B}$（Borel）集合为 the smallest $\sigma$-algebra which contains all open sets。$\mu:\mathcal{F}\rightarrow\mathbb{R}_+\cup\{+\infty\},\mathcal{F}\supseteq \mathcal{B}$，我们称 $\mu$ **regular**，如果：
$$
\forall A\in\mathcal{F},\forall \varepsilon>0,\exists F\subseteq A\subseteq G, F \text{ is close},G\text{ is open},\mu(G|F)\le\varepsilon
$$
注意，这里我们没有假设 $\mu(A)$ 是有限的。

**断言**：如果 $\mu$ 是 regular 的，那么 $\mathcal{F}\subseteq \bar{\mathcal{B}}_\mu$。

- $\forall A\in\mathcal{F}$，我们可以取 $F_n\subseteq A\subseteq G_n,\mu(G_n|F_n)\le1/n$，我们有 $F_n, G_n\in\mathcal{B}$（因为 close set 是 open set 的补集，所以 $F_n$ 也在），那么我们有 $F=\cup_{n\ge1}F_n\in\mathcal{B},G=\cap_{n\ge1}G_n\in\mathcal{B}$，且 $F\subseteq A\subseteq G,\mu(G|F)=0$。

  这样 $A=F\cup A|F$，所以 $\mathcal{F}\subseteq \bar{\mathcal{B}}_\mu$。

**定理**：Lebesgue measure 是 regular 的。

- 令 $E_n=[-n,n],A_n=A\cap E_n$，那么 $\mu(A_n)<\infty$。

  由于 Lesbesgue measure 的扩展就是 $\pi^*$，那么 $\exists \{B_{n,k}\}_{k\ge1}, B_{n,k}\in\mathcal{A},A_m\subseteq \cup_{k\ge1}B_{n,k}, \mu(A_n)\le\sum_{k\ge1}\mu)B_{n,k}\le \mu(A_n)+\varepsilon/2^n$
  
  下一步我们要把 $B_{n.k}$ 转换成 open set。
  
  因为 $B_{n,k}=\sum_{j=1}^{l_{n,k}}I_{n.k,j}=\sum_{j=1}^{l_{n,k}} (a_{n,k,j},b_{n,k,j}]$（这里我们用 $A_n$ 是有限的来让每个区间都是有限的），然后我们可以把每个都扩成 $(a_{n,k,j},b_{n,k,j}+\delta_{n,k,j})$，这样组成的 $G_{n,k}$ 仍然可以把差别控制得很小，另外因为是有限个，所以我们总是可以让新的这些开区间仍然是 disjoint 的。令 $G_n=\cup_{k\ge1}G_{n,k}$，能有 $A_n\subseteq G_n,\mu(G_n)\le\mu(A_n)+\varepsilon/2^{n-1}$。
  
  再取 $G=\cup_{n\ge1}G_n$，所以：
  $$
  \mu(G|A)=\mu(\cup_{n\ge1}G_n|\cup_{n\ge1}A_n)\le \mu(\cup_{n\ge1}(G_n|A_n))\le\sum_{n\ge1}\mu(G_n|A_n)\le 2\varepsilon
  $$
  对于 $F$，则可以取满足上面条件的 $\mu(H|A^c)\le \varepsilon$，并取 $F=H^c$ 即可。

**断言**：如果我们取 $\mathcal{F}_{\sigma}$ 为 countable union of close sets，$\mathcal{G}_\sigma$ 为 countable intersection of open sets，$\forall A\in\mathcal{F}$, which is Lebesgue measurable，$\exists R\in\mathcal{F}_\sigma,S\in\mathcal{G}_{\sigma},R\subseteq A\subseteq S,\mu(S|R)=0$。

- 因为存在 $F_n\subseteq A\subseteq G_n,\mu(G_n|F_n)\le\varepsilon/n$，可以取 $R=\cup_{n\ge1}F_n,S=\cap_{n\ge1}G_n$。

