{"data":{"markdownRemark":{"html":"<h2>Install for powershell</h2>\n<p>First we need to run the powershell as administrator.</p>\n<p>With PowerShell 5.0 or higher, the installation can be done with only one line:</p>\n<pre><code class=\"language-powershell\">Install-Module -Name AWSPowerShell\n</code></pre>\n<h2>Set credential</h2>\n<p>To use aws cli in powershell, we need to run:</p>\n<pre><code class=\"language-powershell\">Set-ExecutionPolicy RemoteSigned\n</code></pre>\n<p>to allow aws cli to run.</p>\n<p>Then we can set the config file with</p>\n<pre><code class=\"language-powershell\">Set-AWSCredential -AccessKey xxx -SecretKey xxx -StoreAs MyProfileName\n</code></pre>\n<p>The access<em>key and secret</em>key can be found from IAM in aws console.</p>\n<p>And then for windows, we need to add a credential file at C:\\Users\\zhuzilin\\.aws\\credentials</p>\n<p>The content of the file could be:</p>\n<pre><code>[default]\naws_access_key_id={YOUR_ACCESS_KEY_ID}\naws_secret_access_key={YOUR_SECRET_ACCESS_KEY}\n\n[profile2]\naws_access_key_id={YOUR_ACCESS_KEY_ID}\naws_secret_access_key={YOUR_SECRET_ACCESS_KEY}\n</code></pre>\n<h2>Use aws-sdk in node</h2>\n<p>Here is an example of using dynamodb</p>\n<pre><code class=\"language-javascript\">let AWS = require('aws-sdk');\nlet doc = require('dynamodb-doc');\n\n// Load the AWS API Key from my local, private configuration file.\nlet credentials = new AWS.SharedIniFileCredentials();\n// Set the credential.\nAWS.config.credentials = credentials;\n\nAWS.config.update({region: 'us-east-1'});\nlet awsClient = new AWS.DynamoDB();\nlet dynamo = new doc.DynamoDB(awsClient);\n</code></pre>\n<p>Here the SharedIniFileCredentials() is using the default credentials.</p>\n<h2>Reference</h2>\n<ul>\n<li><a href=\"https://docs.aws.amazon.com/zh_cn/sdk-for-java/v1/developer-guide/credentials.html\">https://docs.aws.amazon.com/zh_cn/sdk-for-java/v1/developer-guide/credentials.html</a></li>\n<li><a href=\"https://docs.aws.amazon.com/zh_cn/powershell/latest/userguide/pstools-getting-set-up-windows.html\">https://docs.aws.amazon.com/zh_cn/powershell/latest/userguide/pstools-getting-set-up-windows.html</a></li>\n</ul>","frontmatter":{"title":"Configure aws-sdk in win10"}}},"pageContext":{"slug":"/Configure-aws-sdk-in-win10/"}}