{"expireTime":9007200818315814000,"key":"transformer-remark-markdown-html-ast-b858f4e8d8bd5d18786a7fd9e5fbc4be-gatsby-remark-katexgatsby-remark-prismjs-","val":{"type":"root","children":[{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"本文为阅读","position":{"start":{"line":2,"column":1,"offset":2},"end":{"line":2,"column":6,"offset":7}}},{"type":"element","tagName":"em","properties":{},"children":[{"type":"text","value":"Computer Networking: A Top-Down Approach (7th Edition)","position":{"start":{"line":2,"column":7,"offset":8},"end":{"line":2,"column":61,"offset":62}}}],"position":{"start":{"line":2,"column":6,"offset":7},"end":{"line":2,"column":62,"offset":63}}},{"type":"text","value":"的阅读笔记，估计会比较没有条理，只是我比较喜欢在看书的时候旁边随手记两笔。既然读的是电子书，自然笔记也得是。","position":{"start":{"line":2,"column":62,"offset":63},"end":{"line":2,"column":116,"offset":117}}}],"position":{"start":{"line":2,"column":1,"offset":2},"end":{"line":2,"column":116,"offset":117}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"HTTP","position":{"start":{"line":4,"column":4,"offset":124},"end":{"line":4,"column":8,"offset":128}}}],"position":{"start":{"line":4,"column":1,"offset":121},"end":{"line":4,"column":8,"offset":128}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Web page consists of objects. An object is simply a file.","position":{"start":{"line":6,"column":1,"offset":132},"end":{"line":6,"column":58,"offset":189}}}],"position":{"start":{"line":6,"column":1,"offset":132},"end":{"line":6,"column":58,"offset":189}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"HTTP用TCP作为传输层。client会先去和server发起一个TCP连接，当链接完成的时候，就会","position":{"start":{"line":8,"column":1,"offset":193},"end":{"line":8,"column":52,"offset":244}}}],"position":{"start":{"line":8,"column":1,"offset":193},"end":{"line":8,"column":52,"offset":244}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"persistent connnection: use the same TCP connection","position":{"start":{"line":10,"column":1,"offset":248},"end":{"line":10,"column":52,"offset":299}}}],"position":{"start":{"line":10,"column":1,"offset":248},"end":{"line":10,"column":52,"offset":299}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"non-persistent: use separate TCP connection","position":{"start":{"line":12,"column":1,"offset":303},"end":{"line":12,"column":44,"offset":346}}}],"position":{"start":{"line":12,"column":1,"offset":303},"end":{"line":12,"column":44,"offset":346}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"HTTP non persistent","position":{"start":{"line":14,"column":5,"offset":354},"end":{"line":14,"column":24,"offset":373}}}],"position":{"start":{"line":14,"column":1,"offset":350},"end":{"line":14,"column":24,"offset":373}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"HTTP既可以persistent又可以non-persistent，默认是persistent。","position":{"start":{"line":16,"column":1,"offset":377},"end":{"line":16,"column":50,"offset":426}}}],"position":{"start":{"line":16,"column":1,"offset":377},"end":{"line":16,"column":50,"offset":426}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"输入网址","position":{"start":{"line":18,"column":1,"offset":430},"end":{"line":18,"column":5,"offset":434}}},{"type":"raw","value":"<code class=\"language-text\">http://www.someSchool.edu/someDepartment/home.index</code>","position":{"start":{"line":18,"column":5,"offset":434},"end":{"line":18,"column":58,"offset":487}}},{"type":"text","value":"后","position":{"start":{"line":18,"column":58,"offset":487},"end":{"line":18,"column":59,"offset":488}}}],"position":{"start":{"line":18,"column":1,"offset":430},"end":{"line":18,"column":59,"offset":488}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"HTTP client会向server ","position":{"start":{"line":20,"column":4,"offset":495},"end":{"line":20,"column":24,"offset":515}}},{"type":"raw","value":"<code class=\"language-text\">http://www.someSchool.edu/</code>","position":{"start":{"line":20,"column":24,"offset":515},"end":{"line":20,"column":52,"offset":543}}},{"type":"text","value":"的80端口发起一个TCP连接。","position":{"start":{"line":20,"column":52,"offset":543},"end":{"line":20,"column":67,"offset":558}}}],"position":{"start":{"line":20,"column":1,"offset":492},"end":{"line":20,"column":67,"offset":558}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"HTTP client通过socket向server发送HTTP request。request中包含","position":{"start":{"line":21,"column":4,"offset":563},"end":{"line":21,"column":55,"offset":614}}},{"type":"raw","value":"<code class=\"language-text\">/someDepartment/home.index</code>","position":{"start":{"line":21,"column":55,"offset":614},"end":{"line":21,"column":83,"offset":642}}},{"type":"text","value":"。","position":{"start":{"line":21,"column":83,"offset":642},"end":{"line":21,"column":84,"offset":643}}}],"position":{"start":{"line":21,"column":1,"offset":560},"end":{"line":21,"column":84,"offset":643}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"server通过socket处理request，并从其RAM或者disk中获取","position":{"start":{"line":22,"column":4,"offset":648},"end":{"line":22,"column":43,"offset":687}}},{"type":"raw","value":"<code class=\"language-text\">/someDepartment/home.index</code>","position":{"start":{"line":22,"column":43,"offset":687},"end":{"line":22,"column":71,"offset":715}}},{"type":"text","value":"，把这个object包在HTTP response message中，并通过socket发回client。","position":{"start":{"line":22,"column":71,"offset":715},"end":{"line":22,"column":124,"offset":768}}}],"position":{"start":{"line":22,"column":1,"offset":645},"end":{"line":22,"column":124,"offset":768}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"HTTP server告诉TCP关闭TCP connection（但是TCP实际上会在确认client收到结果的时候断掉链接。）","position":{"start":{"line":23,"column":4,"offset":773},"end":{"line":23,"column":68,"offset":837}}}],"position":{"start":{"line":23,"column":1,"offset":770},"end":{"line":23,"column":68,"offset":837}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"HTTP client收到response，TCP中断。client会从repsonse message中提取出index.html。在html文件中发现了多个图片，然后重复1-5来获取图片。","position":{"start":{"line":24,"column":4,"offset":842},"end":{"line":24,"column":100,"offset":938}}}],"position":{"start":{"line":24,"column":1,"offset":839},"end":{"line":24,"column":100,"offset":938}}},{"type":"text","value":"\n"}],"position":{"start":{"line":20,"column":1,"offset":492},"end":{"line":24,"column":100,"offset":938}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"现代浏览器可以有一定程度上的并行，大多数浏览器可以同时并行5到10个TCP。","position":{"start":{"line":26,"column":1,"offset":942},"end":{"line":26,"column":39,"offset":980}}}],"position":{"start":{"line":26,"column":1,"offset":942},"end":{"line":26,"column":39,"offset":980}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"HTTP persistent","position":{"start":{"line":28,"column":5,"offset":988},"end":{"line":28,"column":20,"offset":1003}}}],"position":{"start":{"line":28,"column":1,"offset":984},"end":{"line":28,"column":20,"offset":1003}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"如果使用non-persistent的链接，那么每次都需要一个新的链接，TCP的buffer需要重新被分配，TCP variables需要被保存。当请求数量很多时，这会给server很大的负担。而且每个object都需要2个RTT（round trip time）（一个是用来initiate TCP，另一个用来request与response），所以non-persistent会有更大的延迟。","position":{"start":{"line":30,"column":1,"offset":1007},"end":{"line":30,"column":199,"offset":1205}}}],"position":{"start":{"line":30,"column":1,"offset":1007},"end":{"line":30,"column":199,"offset":1205}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"HTTP 1.1有了persistent connections。server会在send a response之后保持TCP链接。之后同一个client和server的request和response都会用同一个TCP，直到一定时间没有用，会超时断掉。","position":{"start":{"line":32,"column":1,"offset":1209},"end":{"line":32,"column":128,"offset":1336}}}],"position":{"start":{"line":32,"column":1,"offset":1209},"end":{"line":32,"column":128,"offset":1336}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"HTTP 2基于HTTP 1.1允许multiple requests and replies to be interleaved in the same connection以及一个prioritizing HTTP message requests and replies within this connection.","position":{"start":{"line":34,"column":1,"offset":1340},"end":{"line":34,"column":163,"offset":1502}}}],"position":{"start":{"line":34,"column":1,"offset":1340},"end":{"line":34,"column":163,"offset":1502}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"HTTP Message Format","position":{"start":{"line":36,"column":5,"offset":1510},"end":{"line":36,"column":24,"offset":1529}}}],"position":{"start":{"line":36,"column":1,"offset":1506},"end":{"line":36,"column":24,"offset":1529}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"request message的例子","position":{"start":{"line":38,"column":1,"offset":1533},"end":{"line":38,"column":19,"offset":1551}}}],"position":{"start":{"line":38,"column":1,"offset":1533},"end":{"line":38,"column":19,"offset":1551}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"http\"><pre class=\"language-http\"><code class=\"language-http\"><span class=\"token request-line\"><span class=\"token property\">GET</span> /somedir/page.html HTTP/1.1</span>\n<span class=\"token header-name keyword\">Host:</span> www.someschool.edu\n<span class=\"token header-name keyword\">Connection:</span> close\n<span class=\"token header-name keyword\">User-agent:</span> Mozilla/5.0\n<span class=\"token header-name keyword\">Accept-language:</span> fr</code></pre></div>","position":{"start":{"line":40,"column":1,"offset":1555},"end":{"line":46,"column":4,"offset":1691}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"用ASCII写的。the last line is followed by an additional carriage return and line feed.","position":{"start":{"line":48,"column":1,"offset":1695},"end":{"line":48,"column":83,"offset":1777}}}],"position":{"start":{"line":48,"column":1,"offset":1695},"end":{"line":48,"column":83,"offset":1777}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"第一行叫request line，包含method，url和HTTP version。","position":{"start":{"line":50,"column":1,"offset":1781},"end":{"line":50,"column":44,"offset":1824}}}],"position":{"start":{"line":50,"column":1,"offset":1781},"end":{"line":50,"column":44,"offset":1824}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"后面几行叫header line。首先是Host，","position":{"start":{"line":52,"column":1,"offset":1828},"end":{"line":52,"column":26,"offset":1853}}}],"position":{"start":{"line":52,"column":1,"offset":1828},"end":{"line":52,"column":26,"offset":1853}}},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"You might think that this header line is unnecessary, as there is already a TCP connection in place to the host. But, as we’ll see in Section 2.2.5, the information provided by the host header line is required by Web proxy caches","position":{"start":{"line":54,"column":3,"offset":1859},"end":{"line":54,"column":232,"offset":2088}}}],"position":{"start":{"line":54,"column":3,"offset":1859},"end":{"line":54,"column":232,"offset":2088}}},{"type":"text","value":"\n"}],"position":{"start":{"line":54,"column":1,"offset":1857},"end":{"line":54,"column":232,"offset":2088}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Connection: close表示不需要persistent connections","position":{"start":{"line":56,"column":1,"offset":2092},"end":{"line":56,"column":45,"offset":2136}}}],"position":{"start":{"line":56,"column":1,"offset":2092},"end":{"line":56,"column":45,"offset":2136}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"User-agent指browser的类型，这一行的好处是server可以选择给不同的agent不同的response","position":{"start":{"line":58,"column":1,"offset":2140},"end":{"line":58,"column":60,"offset":2199}}}],"position":{"start":{"line":58,"column":1,"offset":2140},"end":{"line":58,"column":60,"offset":2199}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Accept-language: 语言，比如user可能更喜欢object的法语版本。","position":{"start":{"line":60,"column":1,"offset":2203},"end":{"line":60,"column":44,"offset":2246}}}],"position":{"start":{"line":60,"column":1,"offset":2203},"end":{"line":60,"column":44,"offset":2246}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"https://imgur.com/41ij8Hz.png","alt":"http request"},"children":[],"position":{"start":{"line":62,"column":1,"offset":2250},"end":{"line":62,"column":47,"offset":2296}}}],"position":{"start":{"line":62,"column":1,"offset":2250},"end":{"line":62,"column":47,"offset":2296}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"对于GET的参数，就是会出现在url中（如","position":{"start":{"line":64,"column":1,"offset":2300},"end":{"line":64,"column":22,"offset":2321}}},{"type":"raw","value":"<code class=\"language-text\">www.somesite.com/animalsearch?monkeys&amp;bananas</code>","position":{"start":{"line":64,"column":22,"offset":2321},"end":{"line":64,"column":69,"offset":2368}}},{"type":"text","value":"）。","position":{"start":{"line":64,"column":69,"offset":2368},"end":{"line":64,"column":71,"offset":2370}}}],"position":{"start":{"line":64,"column":1,"offset":2300},"end":{"line":64,"column":71,"offset":2370}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"response message的例子","position":{"start":{"line":66,"column":1,"offset":2374},"end":{"line":66,"column":20,"offset":2393}}}],"position":{"start":{"line":66,"column":1,"offset":2374},"end":{"line":66,"column":20,"offset":2393}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"http\"><pre class=\"language-http\"><code class=\"language-http\"><span class=\"token response-status\">HTTP/1.1 <span class=\"token property\">200 OK</span></span>\n<span class=\"token header-name keyword\">Connection:</span> close\n<span class=\"token header-name keyword\">Date:</span> Tue, 18 Aug 2015 15:44:04 GMT\n<span class=\"token header-name keyword\">Server:</span> Apache/2.2.3 (CentOS)\n<span class=\"token header-name keyword\">Last-Modified:</span> Tue, 18 Aug 2015 15:11:03 GMT\n<span class=\"token header-name keyword\">Content-Length:</span> 6821\n<span class=\"token header-name keyword\">Content-Type:</span> text/html<span class=\"token text/html\">\n\n(data data data data data ...)</span></code></pre></div>","position":{"start":{"line":68,"column":1,"offset":2397},"end":{"line":78,"column":4,"offset":2640}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"仍然是3部分，status line, header lines, entity body。","position":{"start":{"line":80,"column":1,"offset":2644},"end":{"line":80,"column":47,"offset":2690}}}],"position":{"start":{"line":80,"column":1,"offset":2644},"end":{"line":80,"column":47,"offset":2690}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"status line: http版本与status code","position":{"start":{"line":82,"column":1,"offset":2694},"end":{"line":82,"column":32,"offset":2725}}}],"position":{"start":{"line":82,"column":1,"offset":2694},"end":{"line":82,"column":32,"offset":2725}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"header: Connection告诉client，server即将关闭连接，last-modified指Object被上次修改的时间。","position":{"start":{"line":84,"column":1,"offset":2729},"end":{"line":84,"column":70,"offset":2798}}}],"position":{"start":{"line":84,"column":1,"offset":2729},"end":{"line":84,"column":70,"offset":2798}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"https://imgur.com/rcDmqzq.png","alt":"http request"},"children":[],"position":{"start":{"line":86,"column":1,"offset":2802},"end":{"line":86,"column":47,"offset":2848}}}],"position":{"start":{"line":86,"column":1,"offset":2802},"end":{"line":86,"column":47,"offset":2848}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"常见的status code：","position":{"start":{"line":88,"column":1,"offset":2852},"end":{"line":88,"column":16,"offset":2867}}}],"position":{"start":{"line":88,"column":1,"offset":2852},"end":{"line":88,"column":16,"offset":2867}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"200 OK: 成功","position":{"start":{"line":90,"column":3,"offset":2873},"end":{"line":90,"column":13,"offset":2883}}}],"position":{"start":{"line":90,"column":1,"offset":2871},"end":{"line":90,"column":13,"offset":2883}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"301 Moved Permanently: requested object has been permanently moved; the new URL in Location (in header)","position":{"start":{"line":91,"column":3,"offset":2887},"end":{"line":91,"column":106,"offset":2990}}}],"position":{"start":{"line":91,"column":1,"offset":2885},"end":{"line":91,"column":106,"offset":2990}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"400 Bad Request: the request could not be understood by the server","position":{"start":{"line":92,"column":3,"offset":2994},"end":{"line":92,"column":69,"offset":3060}}}],"position":{"start":{"line":92,"column":1,"offset":2992},"end":{"line":92,"column":69,"offset":3060}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"404 Not Found: the request document does not exist on this server","position":{"start":{"line":93,"column":3,"offset":3064},"end":{"line":93,"column":68,"offset":3129}}}],"position":{"start":{"line":93,"column":1,"offset":3062},"end":{"line":93,"column":68,"offset":3129}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"505 HTTP Version Not Supported: the requested HTTP protocal version is not supported by the server.","position":{"start":{"line":94,"column":3,"offset":3133},"end":{"line":94,"column":102,"offset":3232}}}],"position":{"start":{"line":94,"column":1,"offset":3131},"end":{"line":94,"column":102,"offset":3232}}},{"type":"text","value":"\n"}],"position":{"start":{"line":90,"column":1,"offset":2871},"end":{"line":94,"column":102,"offset":3232}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Cookies","position":{"start":{"line":96,"column":5,"offset":3240},"end":{"line":96,"column":12,"offset":3247}}}],"position":{"start":{"line":96,"column":1,"offset":3236},"end":{"line":96,"column":12,"offset":3247}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"HTTP server is stateless，因为stateless能允许高并发。为了计入一些状态，如authentication，HTTP从cookies。","position":{"start":{"line":98,"column":1,"offset":3251},"end":{"line":98,"column":82,"offset":3332}}}],"position":{"start":{"line":98,"column":1,"offset":3251},"end":{"line":98,"column":82,"offset":3332}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"cookies主要有4个组成部分：","position":{"start":{"line":100,"column":1,"offset":3336},"end":{"line":100,"column":18,"offset":3353}}}],"position":{"start":{"line":100,"column":1,"offset":3336},"end":{"line":100,"column":18,"offset":3353}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"(1) a cookie header line in the HTTP response message; ","position":{"start":{"line":102,"column":1,"offset":3357},"end":{"line":102,"column":56,"offset":3412}}}],"position":{"start":{"line":102,"column":1,"offset":3357},"end":{"line":102,"column":56,"offset":3412}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"(2) a cookie header line in the HTTP request message; ","position":{"start":{"line":104,"column":1,"offset":3416},"end":{"line":104,"column":55,"offset":3470}}}],"position":{"start":{"line":104,"column":1,"offset":3416},"end":{"line":104,"column":55,"offset":3470}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"(3) a cookie file kept on the user’s end system and managed by the user’s browser; ","position":{"start":{"line":106,"column":1,"offset":3474},"end":{"line":106,"column":84,"offset":3557}}}],"position":{"start":{"line":106,"column":1,"offset":3474},"end":{"line":106,"column":84,"offset":3557}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"(4) a back-end database at the Web site.","position":{"start":{"line":108,"column":1,"offset":3561},"end":{"line":108,"column":41,"offset":3601}}}],"position":{"start":{"line":108,"column":1,"offset":3561},"end":{"line":108,"column":41,"offset":3601}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"第一次访问网站的时候，网站会在db中创建一条信息，并返回一个unique identification number。response中就会加一个","position":{"start":{"line":110,"column":1,"offset":3605},"end":{"line":110,"column":74,"offset":3678}}},{"type":"raw","value":"<code class=\"language-text\">Set-cookie:</code>","position":{"start":{"line":110,"column":74,"offset":3678},"end":{"line":110,"column":87,"offset":3691}}},{"type":"text","value":"，如：","position":{"start":{"line":110,"column":87,"offset":3691},"end":{"line":110,"column":90,"offset":3694}}}],"position":{"start":{"line":110,"column":1,"offset":3605},"end":{"line":110,"column":90,"offset":3694}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Set-cookie: 1678</code></pre></div>","position":{"start":{"line":112,"column":1,"offset":3698},"end":{"line":114,"column":4,"offset":3724}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"brower收到cookie之后，会在一个special cookie file中加一行，记录了hostname和identification number。之后的每次访问，browser都会查看这个file，并把identification number加在request header中，如：","position":{"start":{"line":116,"column":1,"offset":3728},"end":{"line":116,"column":149,"offset":3876}}}],"position":{"start":{"line":116,"column":1,"offset":3728},"end":{"line":116,"column":149,"offset":3876}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Cookie: 1678</code></pre></div>","position":{"start":{"line":118,"column":1,"offset":3880},"end":{"line":120,"column":4,"offset":3902}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"db用这个数字来找到用户信息。用户信息可能不是其用户名之类的，而是一些用户行为。如amazon用cookie记录购物车。如果用户注册过，可以把db中的entry和用户名啥的联系起来。","position":{"start":{"line":122,"column":1,"offset":3906},"end":{"line":122,"column":92,"offset":3997}}}],"position":{"start":{"line":122,"column":1,"offset":3906},"end":{"line":122,"column":92,"offset":3997}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"不过cookie有invasion of privacy的问题。","position":{"start":{"line":124,"column":1,"offset":4001},"end":{"line":124,"column":33,"offset":4033}}}],"position":{"start":{"line":124,"column":1,"offset":4001},"end":{"line":124,"column":33,"offset":4033}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Web Caching","position":{"start":{"line":126,"column":5,"offset":4041},"end":{"line":126,"column":16,"offset":4052}}}],"position":{"start":{"line":126,"column":1,"offset":4037},"end":{"line":126,"column":16,"offset":4052}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"web caching也被称为Proxy server，is a network entity that satisfies HTTP requests on the behalf of an origin Web server. Web cache有自己的硬盘可以保存最近的数份request objects。其主要过程是","position":{"start":{"line":128,"column":1,"offset":4056},"end":{"line":128,"column":163,"offset":4218}}}],"position":{"start":{"line":128,"column":1,"offset":4056},"end":{"line":128,"column":163,"offset":4218}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"browser和web cache建立一个TCP","position":{"start":{"line":130,"column":4,"offset":4225},"end":{"line":130,"column":28,"offset":4249}}}],"position":{"start":{"line":130,"column":1,"offset":4222},"end":{"line":130,"column":28,"offset":4249}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"web cache检查request中提到的object是不是已经本地存储了，如果是就返回，不然就和origin server建立TCP，origin server把object返回给web cache。","position":{"start":{"line":131,"column":4,"offset":4254},"end":{"line":131,"column":106,"offset":4356}}}],"position":{"start":{"line":131,"column":1,"offset":4251},"end":{"line":131,"column":106,"offset":4356}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"web cache收到object之后，本地保存一份，并发送一份给browser。（注意用的是最开始的链接）","position":{"start":{"line":132,"column":4,"offset":4361},"end":{"line":132,"column":58,"offset":4415}}}],"position":{"start":{"line":132,"column":1,"offset":4358},"end":{"line":132,"column":58,"offset":4415}}},{"type":"text","value":"\n"}],"position":{"start":{"line":130,"column":1,"offset":4222},"end":{"line":132,"column":58,"offset":4415}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Typically a Web cache is purchased and installed by an ISP (Internet Service Provider). ","position":{"start":{"line":134,"column":1,"offset":4419},"end":{"line":134,"column":89,"offset":4507}}}],"position":{"start":{"line":134,"column":1,"offset":4419},"end":{"line":134,"column":89,"offset":4507}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"有两个使用web caching的原因","position":{"start":{"line":136,"column":1,"offset":4511},"end":{"line":136,"column":20,"offset":4530}}}],"position":{"start":{"line":136,"column":1,"offset":4511},"end":{"line":136,"column":20,"offset":4530}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"can substantially reduce the response time","position":{"start":{"line":138,"column":3,"offset":4536},"end":{"line":138,"column":45,"offset":4578}}}],"position":{"start":{"line":138,"column":1,"offset":4534},"end":{"line":138,"column":45,"offset":4578}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"can substantially reduce traffic on an institution's access link to the Internet.","position":{"start":{"line":139,"column":3,"offset":4582},"end":{"line":139,"column":84,"offset":4663}}}],"position":{"start":{"line":139,"column":1,"offset":4580},"end":{"line":139,"column":84,"offset":4663}}},{"type":"text","value":"\n"}],"position":{"start":{"line":138,"column":1,"offset":4534},"end":{"line":139,"column":84,"offset":4663}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"text","value":"Conditional GET","position":{"start":{"line":141,"column":6,"offset":4672},"end":{"line":141,"column":21,"offset":4687}}}],"position":{"start":{"line":141,"column":1,"offset":4667},"end":{"line":141,"column":21,"offset":4687}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"HTTP有一个机制来让cache取人object是up to date的，这个就是conditional GET。","position":{"start":{"line":143,"column":1,"offset":4691},"end":{"line":143,"column":58,"offset":4748}}}],"position":{"start":{"line":143,"column":1,"offset":4691},"end":{"line":143,"column":58,"offset":4748}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"conditional GET是指web cache像web serer发送的时候会加上一行","position":{"start":{"line":145,"column":1,"offset":4752},"end":{"line":145,"column":47,"offset":4798}}}],"position":{"start":{"line":145,"column":1,"offset":4752},"end":{"line":145,"column":47,"offset":4798}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"http\"><pre class=\"language-http\"><code class=\"language-http\"><span class=\"token request-line\"><span class=\"token property\">GET</span> /fruit/kiwi.gif HTTP/1.1</span>\n<span class=\"token header-name keyword\">Host:</span> www.exotiquecuisine.com\n<span class=\"token header-name keyword\">If-modified-since:</span> Wed, 9 Sep 2015 09:23:24</code></pre></div>","position":{"start":{"line":147,"column":1,"offset":4802},"end":{"line":151,"column":4,"offset":4920}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"然后如果没有改变，web server会返回","position":{"start":{"line":153,"column":1,"offset":4924},"end":{"line":153,"column":23,"offset":4946}}}],"position":{"start":{"line":153,"column":1,"offset":4924},"end":{"line":153,"column":23,"offset":4946}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"http\"><pre class=\"language-http\"><code class=\"language-http\"><span class=\"token response-status\">HTTP/1.1 <span class=\"token property\">304 Not Modified</span></span>\n<span class=\"token header-name keyword\">Date:</span> Sat, 10 Oct 2015 15:39:29\n<span class=\"token header-name keyword\">Server:</span> Apache/1.3.0 (Unix)\n\n(empty entity body)</code></pre></div>","position":{"start":{"line":155,"column":1,"offset":4950},"end":{"line":161,"column":4,"offset":5074}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"cache就可以返回原来的那份。","position":{"start":{"line":163,"column":1,"offset":5078},"end":{"line":163,"column":17,"offset":5094}}}],"position":{"start":{"line":163,"column":1,"offset":5078},"end":{"line":163,"column":17,"offset":5094}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"SMTP (Simple Mail Transfer Protocol)","position":{"start":{"line":165,"column":4,"offset":5101},"end":{"line":165,"column":40,"offset":5137}}}],"position":{"start":{"line":165,"column":1,"offset":5098},"end":{"line":165,"column":40,"offset":5137}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"为了讲解SMTP的基本操作，我们来看一下如果Alice要给Bob发一封邮件，会过几个步骤。","position":{"start":{"line":167,"column":1,"offset":5141},"end":{"line":167,"column":46,"offset":5186}}}],"position":{"start":{"line":167,"column":1,"offset":5141},"end":{"line":167,"column":46,"offset":5186}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Alice用其user agent给Bob的email address发邮件","position":{"start":{"line":169,"column":4,"offset":5193},"end":{"line":169,"column":42,"offset":5231}}}],"position":{"start":{"line":169,"column":1,"offset":5190},"end":{"line":169,"column":42,"offset":5231}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Alice的user agent把message发给其mail server的message queue中。","position":{"start":{"line":170,"column":4,"offset":5236},"end":{"line":170,"column":58,"offset":5290}}}],"position":{"start":{"line":170,"column":1,"offset":5233},"end":{"line":170,"column":58,"offset":5290}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"client side of SMTP，跑在Alice的mail server上，看到message queue中的信息，像另一个SMTP server开启一个TCP链接。","position":{"start":{"line":171,"column":4,"offset":5295},"end":{"line":171,"column":90,"offset":5381}}}],"position":{"start":{"line":171,"column":1,"offset":5292},"end":{"line":171,"column":90,"offset":5381}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"完成SMTP handshaking之后，client把Alice的信息发给server。","position":{"start":{"line":172,"column":4,"offset":5386},"end":{"line":172,"column":49,"offset":5431}}}],"position":{"start":{"line":172,"column":1,"offset":5383},"end":{"line":172,"column":49,"offset":5431}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Bob的mail server收到信息，把信息放在mailbox中","position":{"start":{"line":173,"column":4,"offset":5436},"end":{"line":173,"column":37,"offset":5469}}}],"position":{"start":{"line":173,"column":1,"offset":5433},"end":{"line":173,"column":37,"offset":5469}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Bob查看user agent的时候会读到mail server中的mail box","position":{"start":{"line":174,"column":4,"offset":5474},"end":{"line":174,"column":46,"offset":5516}}}],"position":{"start":{"line":174,"column":1,"offset":5471},"end":{"line":174,"column":46,"offset":5516}}},{"type":"text","value":"\n"}],"position":{"start":{"line":169,"column":1,"offset":5190},"end":{"line":174,"column":46,"offset":5516}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"SMTP是port 25。然后handshake的方式是：","position":{"start":{"line":176,"column":1,"offset":5520},"end":{"line":176,"column":30,"offset":5549}}}],"position":{"start":{"line":176,"column":1,"offset":5520},"end":{"line":176,"column":30,"offset":5549}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"the SMTP client indicates the email address of the sender and the e-mail address of the recipient.","position":{"start":{"line":178,"column":4,"offset":5556},"end":{"line":178,"column":102,"offset":5654}}}],"position":{"start":{"line":178,"column":1,"offset":5553},"end":{"line":178,"column":102,"offset":5654}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"the SMTP client send message.","position":{"start":{"line":179,"column":4,"offset":5659},"end":{"line":179,"column":33,"offset":5688}}}],"position":{"start":{"line":179,"column":1,"offset":5656},"end":{"line":179,"column":33,"offset":5688}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"The client then repeats this process over the same TCP connection if it has other messages to send to the server; otherwise, it instructs TCP to close the connection.","position":{"start":{"line":180,"column":4,"offset":5693},"end":{"line":180,"column":170,"offset":5859}}}],"position":{"start":{"line":180,"column":1,"offset":5690},"end":{"line":180,"column":170,"offset":5859}}},{"type":"text","value":"\n"}],"position":{"start":{"line":178,"column":1,"offset":5553},"end":{"line":180,"column":170,"offset":5859}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">S: 220 hamburger.edu\nC: HELO crepes.fr\nS: 250 Hello crepes.fr, pleased to meet you\nC: MAIL FROM: &lt;alice@crepes.fr&gt;\nS: 250 alice@crepes.fr ... Sender ok\nC: RCPT TO: &lt;bob@hamburger.edu&gt;\nS: 250 bob@hamburger.edu ... Recipient ok\nC: DATA\nS: 354 Enter mail, end with ”.” on a line by itself\nC: Do you like ketchup?\nC: How about pickles?\nC: .\nS: 250 Message accepted for delivery\nC: QUIT\nS: 221 hamburger.edu closing connection</code></pre></div>","position":{"start":{"line":182,"column":1,"offset":5863},"end":{"line":198,"column":4,"offset":6308}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"注意上面的C和S后面是真是的传输内容。C是client，S是server。这个例子是","position":{"start":{"line":200,"column":1,"offset":6312},"end":{"line":200,"column":43,"offset":6354}}},{"type":"raw","value":"<code class=\"language-text\">crepes.fr</code>","position":{"start":{"line":200,"column":43,"offset":6354},"end":{"line":200,"column":54,"offset":6365}}},{"type":"text","value":"发给","position":{"start":{"line":200,"column":54,"offset":6365},"end":{"line":200,"column":56,"offset":6367}}},{"type":"raw","value":"<code class=\"language-text\">hamburger.edu</code>","position":{"start":{"line":200,"column":56,"offset":6367},"end":{"line":200,"column":71,"offset":6382}}},{"type":"text","value":"。","position":{"start":{"line":200,"column":71,"offset":6382},"end":{"line":200,"column":72,"offset":6383}}}],"position":{"start":{"line":200,"column":1,"offset":6312},"end":{"line":200,"column":72,"offset":6383}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"client有5个指令：","position":{"start":{"line":202,"column":1,"offset":6387},"end":{"line":202,"column":13,"offset":6399}}},{"type":"raw","value":"<code class=\"language-text\">HELO</code>","position":{"start":{"line":202,"column":13,"offset":6399},"end":{"line":202,"column":19,"offset":6405}}},{"type":"text","value":"(hello), ","position":{"start":{"line":202,"column":19,"offset":6405},"end":{"line":202,"column":28,"offset":6414}}},{"type":"raw","value":"<code class=\"language-text\">MAIL FROM</code>","position":{"start":{"line":202,"column":28,"offset":6414},"end":{"line":202,"column":39,"offset":6425}}},{"type":"text","value":",","position":{"start":{"line":202,"column":39,"offset":6425},"end":{"line":202,"column":40,"offset":6426}}},{"type":"raw","value":"<code class=\"language-text\">RCPT TO</code>","position":{"start":{"line":202,"column":40,"offset":6426},"end":{"line":202,"column":49,"offset":6435}}},{"type":"text","value":", ","position":{"start":{"line":202,"column":49,"offset":6435},"end":{"line":202,"column":51,"offset":6437}}},{"type":"raw","value":"<code class=\"language-text\">DATA</code>","position":{"start":{"line":202,"column":51,"offset":6437},"end":{"line":202,"column":57,"offset":6443}}},{"type":"text","value":"和","position":{"start":{"line":202,"column":57,"offset":6443},"end":{"line":202,"column":58,"offset":6444}}},{"type":"raw","value":"<code class=\"language-text\">QUIT</code>","position":{"start":{"line":202,"column":58,"offset":6444},"end":{"line":202,"column":64,"offset":6450}}},{"type":"text","value":"。这些指令的名字自己就可以解释了。可以通过","position":{"start":{"line":202,"column":64,"offset":6450},"end":{"line":202,"column":85,"offset":6471}}}],"position":{"start":{"line":202,"column":1,"offset":6387},"end":{"line":202,"column":85,"offset":6471}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">telnet serverName 25</code></pre></div>","position":{"start":{"line":204,"column":1,"offset":6475},"end":{"line":206,"column":4,"offset":6509}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"并按上述顺序输入client指令来模拟发送邮件。","position":{"start":{"line":208,"column":1,"offset":6513},"end":{"line":208,"column":25,"offset":6537}}}],"position":{"start":{"line":208,"column":1,"offset":6513},"end":{"line":208,"column":25,"offset":6537}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"SMTP与HTTP的对比","position":{"start":{"line":210,"column":5,"offset":6545},"end":{"line":210,"column":17,"offset":6557}}}],"position":{"start":{"line":210,"column":1,"offset":6541},"end":{"line":210,"column":17,"offset":6557}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"HTTP是pull protocol，也就是web server load information，client需要的时候pull。","position":{"start":{"line":212,"column":4,"offset":6564},"end":{"line":212,"column":70,"offset":6630}}}],"position":{"start":{"line":212,"column":4,"offset":6564},"end":{"line":212,"column":70,"offset":6630}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"SMTP是push protocol，sending mail server pushes the file to receiving mail server。","position":{"start":{"line":214,"column":4,"offset":6637},"end":{"line":214,"column":84,"offset":6717}}}],"position":{"start":{"line":214,"column":4,"offset":6637},"end":{"line":214,"column":84,"offset":6717}}},{"type":"text","value":"\n"}],"position":{"start":{"line":212,"column":1,"offset":6561},"end":{"line":215,"column":1,"offset":6719}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"SMTP只能用7 bit ASCII。","position":{"start":{"line":216,"column":4,"offset":6724},"end":{"line":216,"column":23,"offset":6743}}}],"position":{"start":{"line":216,"column":1,"offset":6721},"end":{"line":216,"column":23,"offset":6743}}},{"type":"text","value":"\n"}],"position":{"start":{"line":212,"column":1,"offset":6561},"end":{"line":216,"column":23,"offset":6743}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Mail Message Format","position":{"start":{"line":218,"column":5,"offset":6751},"end":{"line":218,"column":24,"offset":6770}}}],"position":{"start":{"line":218,"column":1,"offset":6747},"end":{"line":218,"column":24,"offset":6770}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"这个是user agent发给mail server的还是什么别的","position":{"start":{"line":220,"column":1,"offset":6774},"end":{"line":220,"column":34,"offset":6807}}}],"position":{"start":{"line":220,"column":1,"offset":6774},"end":{"line":220,"column":34,"offset":6807}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">From: alice@crepes.fr\nTo: bob@hamburger.edu\nSubject: Searching for the meaning of life.\n\n(data data data)</code></pre></div>","position":{"start":{"line":222,"column":1,"offset":6811},"end":{"line":228,"column":4,"offset":6930}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"Mail Access Protocols","position":{"start":{"line":230,"column":5,"offset":6938},"end":{"line":230,"column":26,"offset":6959}}}],"position":{"start":{"line":230,"column":1,"offset":6934},"end":{"line":230,"column":26,"offset":6959}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Bob 怎么从mail server中读取mail呢？注意Bob不能用SMTP来获取，因为SMTP是push而不是pull。常见的协议有Post Office Protocol—Version 3 (POP3)和Internet Mail Access Protocol (IMAP)。","position":{"start":{"line":232,"column":1,"offset":6963},"end":{"line":232,"column":144,"offset":7106}}}],"position":{"start":{"line":232,"column":1,"offset":6963},"end":{"line":232,"column":144,"offset":7106}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"text","value":"POP3","position":{"start":{"line":234,"column":6,"offset":7115},"end":{"line":234,"column":10,"offset":7119}}}],"position":{"start":{"line":234,"column":1,"offset":7110},"end":{"line":234,"column":10,"offset":7119}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"POP3很简单。先在mail server的110端口创建TCP连接。当TCP连接创建，POP3有3个阶段：authorization, transaction and update。","position":{"start":{"line":236,"column":1,"offset":7123},"end":{"line":236,"column":93,"offset":7215}}}],"position":{"start":{"line":236,"column":1,"offset":7123},"end":{"line":236,"column":93,"offset":7215}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"authorization: the user agent sends a username and password (in clear) to authenticate the user","position":{"start":{"line":238,"column":4,"offset":7222},"end":{"line":238,"column":99,"offset":7317}}}],"position":{"start":{"line":238,"column":1,"offset":7219},"end":{"line":238,"column":99,"offset":7317}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"transaction: agent retrieves messages and mark messages for deletion, remove deletion marks and obtain mail statistics.","position":{"start":{"line":239,"column":4,"offset":7322},"end":{"line":239,"column":123,"offset":7441}}}],"position":{"start":{"line":239,"column":1,"offset":7319},"end":{"line":239,"column":123,"offset":7441}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"update: after client has issued the quit command, ending the POP3 session. At this point, the mail server deletes the messages that were marked for deletion.","position":{"start":{"line":240,"column":4,"offset":7446},"end":{"line":240,"column":161,"offset":7603}}}],"position":{"start":{"line":240,"column":1,"offset":7443},"end":{"line":240,"column":161,"offset":7603}}},{"type":"text","value":"\n"}],"position":{"start":{"line":238,"column":1,"offset":7219},"end":{"line":240,"column":161,"offset":7603}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"mail server会返回","position":{"start":{"line":242,"column":1,"offset":7607},"end":{"line":242,"column":15,"offset":7621}}},{"type":"raw","value":"<code class=\"language-text\">+OK</code>","position":{"start":{"line":242,"column":15,"offset":7621},"end":{"line":242,"column":20,"offset":7626}}},{"type":"text","value":"或","position":{"start":{"line":242,"column":20,"offset":7626},"end":{"line":242,"column":21,"offset":7627}}},{"type":"raw","value":"<code class=\"language-text\">-ERR</code>","position":{"start":{"line":242,"column":21,"offset":7627},"end":{"line":242,"column":27,"offset":7633}}},{"type":"text","value":"作为回应。","position":{"start":{"line":242,"column":27,"offset":7633},"end":{"line":242,"column":32,"offset":7638}}}],"position":{"start":{"line":242,"column":1,"offset":7607},"end":{"line":242,"column":32,"offset":7638}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"authorization phase: ","position":{"start":{"line":244,"column":1,"offset":7642},"end":{"line":244,"column":22,"offset":7663}}}],"position":{"start":{"line":244,"column":1,"offset":7642},"end":{"line":244,"column":22,"offset":7663}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">telnet mailServer 110\n+OK POP3 server ready\nuser bob\n+OK\npass hungry\n+OK user successfully logged on</code></pre></div>","position":{"start":{"line":246,"column":1,"offset":7667},"end":{"line":253,"column":4,"offset":7782}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"transaction phase:","position":{"start":{"line":255,"column":1,"offset":7786},"end":{"line":255,"column":19,"offset":7804}}}],"position":{"start":{"line":255,"column":1,"offset":7786},"end":{"line":255,"column":19,"offset":7804}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">C: list\nS: 1 498\nS: 2 912\nS: .\nC: retr 1\nS: (blah blah ...\nS: .................\nS: ..........blah)\nS: .\nC: dele 1\nC: retr 2\nS: (blah blah ...\nS: .................\nS: ..........blah)\nS: .\nC: dele 2\nC: quit\nS: +OK POP3 server signing off</code></pre></div>","position":{"start":{"line":257,"column":1,"offset":7808},"end":{"line":276,"column":4,"offset":8070}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"有","position":{"start":{"line":278,"column":1,"offset":8074},"end":{"line":278,"column":2,"offset":8075}}},{"type":"raw","value":"<code class=\"language-text\">list</code>","position":{"start":{"line":278,"column":2,"offset":8075},"end":{"line":278,"column":8,"offset":8081}}},{"type":"text","value":", ","position":{"start":{"line":278,"column":8,"offset":8081},"end":{"line":278,"column":10,"offset":8083}}},{"type":"raw","value":"<code class=\"language-text\">retr</code>","position":{"start":{"line":278,"column":10,"offset":8083},"end":{"line":278,"column":16,"offset":8089}}},{"type":"text","value":", ","position":{"start":{"line":278,"column":16,"offset":8089},"end":{"line":278,"column":18,"offset":8091}}},{"type":"raw","value":"<code class=\"language-text\">dele</code>","position":{"start":{"line":278,"column":18,"offset":8091},"end":{"line":278,"column":24,"offset":8097}}},{"type":"text","value":"和","position":{"start":{"line":278,"column":24,"offset":8097},"end":{"line":278,"column":25,"offset":8098}}},{"type":"raw","value":"<code class=\"language-text\">quit</code>","position":{"start":{"line":278,"column":25,"offset":8098},"end":{"line":278,"column":31,"offset":8104}}},{"type":"text","value":"这样的指令。","position":{"start":{"line":278,"column":31,"offset":8104},"end":{"line":278,"column":37,"offset":8110}}}],"position":{"start":{"line":278,"column":1,"offset":8074},"end":{"line":278,"column":37,"offset":8110}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"text","value":"IMAP","position":{"start":{"line":280,"column":6,"offset":8119},"end":{"line":280,"column":10,"offset":8123}}}],"position":{"start":{"line":280,"column":1,"offset":8114},"end":{"line":280,"column":10,"offset":8123}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"如果用户需要在server里创建一个文件夹存放email，那么POP3就不行了。IMAP就可以实现这样的功能。IMAP比POP3要复杂很多。","position":{"start":{"line":282,"column":1,"offset":8127},"end":{"line":282,"column":71,"offset":8197}}}],"position":{"start":{"line":282,"column":1,"offset":8127},"end":{"line":282,"column":71,"offset":8197}}},{"type":"text","value":"\n"},{"type":"element","tagName":"blockquote","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"An IMAP server will associate each message with a folder; when a message first arrives at the server, it is associated with the recipient’s INBOX folder. The recipient can then move the message into a new, user-created folder, read the message, delete the message, and so on.","position":{"start":{"line":284,"column":3,"offset":8203},"end":{"line":284,"column":278,"offset":8478}}}],"position":{"start":{"line":284,"column":3,"offset":8203},"end":{"line":284,"column":278,"offset":8478}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"The IMAP protocol provides commands to allow users to create folders and move messages from one folder to another","position":{"start":{"line":286,"column":3,"offset":8485},"end":{"line":286,"column":116,"offset":8598}}}],"position":{"start":{"line":286,"column":3,"offset":8485},"end":{"line":286,"column":116,"offset":8598}}},{"type":"text","value":"\n"}],"position":{"start":{"line":284,"column":1,"offset":8201},"end":{"line":286,"column":116,"offset":8598}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"Another important feature of IMAP is that it has commands that permit a user agent to obtain components of messages. 可以只获取header。","position":{"start":{"line":288,"column":1,"offset":8602},"end":{"line":288,"column":130,"offset":8731}}}],"position":{"start":{"line":288,"column":1,"offset":8602},"end":{"line":288,"column":130,"offset":8731}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"text","value":"Web-Based E-mail","position":{"start":{"line":290,"column":6,"offset":8740},"end":{"line":290,"column":22,"offset":8756}}}],"position":{"start":{"line":290,"column":1,"offset":8735},"end":{"line":290,"column":22,"offset":8756}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"我们现在用的gmail啥的都是直接用HTTP来retrieve的。不过中间还是SMTP。","position":{"start":{"line":292,"column":1,"offset":8760},"end":{"line":292,"column":45,"offset":8804}}}],"position":{"start":{"line":292,"column":1,"offset":8760},"end":{"line":292,"column":45,"offset":8804}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"DNS (Domain Name System)","position":{"start":{"line":294,"column":4,"offset":8811},"end":{"line":294,"column":28,"offset":8835}}}],"position":{"start":{"line":294,"column":1,"offset":8808},"end":{"line":294,"column":28,"offset":8835}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"用于把hostname转化为IP address。具体步骤如下：","position":{"start":{"line":296,"column":1,"offset":8839},"end":{"line":296,"column":33,"offset":8871}}}],"position":{"start":{"line":296,"column":1,"offset":8839},"end":{"line":296,"column":33,"offset":8871}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"the same user machine runs the client side of the DNS application","position":{"start":{"line":298,"column":4,"offset":8878},"end":{"line":298,"column":69,"offset":8943}}}],"position":{"start":{"line":298,"column":1,"offset":8875},"end":{"line":298,"column":69,"offset":8943}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"brower从URL中提取出hostname，比如","position":{"start":{"line":299,"column":4,"offset":8948},"end":{"line":299,"column":29,"offset":8973}}},{"type":"raw","value":"<code class=\"language-text\">www.someschool.edu</code>","position":{"start":{"line":299,"column":29,"offset":8973},"end":{"line":299,"column":49,"offset":8993}}},{"type":"text","value":"并把hostname传给DNS的client side。","position":{"start":{"line":299,"column":49,"offset":8993},"end":{"line":299,"column":77,"offset":9021}}}],"position":{"start":{"line":299,"column":1,"offset":8945},"end":{"line":299,"column":77,"offset":9021}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"DNS client给DNS server发送一个包含hostname的query。","position":{"start":{"line":300,"column":4,"offset":9026},"end":{"line":300,"column":46,"offset":9068}}}],"position":{"start":{"line":300,"column":1,"offset":9023},"end":{"line":300,"column":46,"offset":9068}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"DNS最终会收到一个回复，包含了IP","position":{"start":{"line":301,"column":4,"offset":9073},"end":{"line":301,"column":22,"offset":9091}}}],"position":{"start":{"line":301,"column":1,"offset":9070},"end":{"line":301,"column":22,"offset":9091}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"browser收到IP地址之后，就可以用IP address来和server确立TCP连接了。","position":{"start":{"line":302,"column":4,"offset":9096},"end":{"line":302,"column":51,"offset":9143}}}],"position":{"start":{"line":302,"column":1,"offset":9093},"end":{"line":302,"column":51,"offset":9143}}},{"type":"text","value":"\n"}],"position":{"start":{"line":298,"column":1,"offset":8875},"end":{"line":302,"column":51,"offset":9143}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"虽然DNS会导致延迟，但是幸运的是，需要的IP往往就在很近的DNS server上，所以就相对减少了平均延迟。","position":{"start":{"line":304,"column":1,"offset":9147},"end":{"line":304,"column":56,"offset":9202}}}],"position":{"start":{"line":304,"column":1,"offset":9147},"end":{"line":304,"column":56,"offset":9202}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"DNS还提供其他的重要的服务：","position":{"start":{"line":306,"column":1,"offset":9206},"end":{"line":306,"column":16,"offset":9221}}}],"position":{"start":{"line":306,"column":1,"offset":9206},"end":{"line":306,"column":16,"offset":9221}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Host aliasing: 一个有着复杂hostname的host可以又多了alias。","position":{"start":{"line":308,"column":3,"offset":9227},"end":{"line":308,"column":48,"offset":9272}}}],"position":{"start":{"line":308,"column":1,"offset":9225},"end":{"line":308,"column":48,"offset":9272}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Mail server alias：邮箱的地址最好能比较好记，所以DNS可以由mail applicatioin出发以获得canonical hostname fo ra supplied alias hostname as well as the IP address of the host.","position":{"start":{"line":309,"column":3,"offset":9276},"end":{"line":309,"column":151,"offset":9424}}}],"position":{"start":{"line":309,"column":1,"offset":9274},"end":{"line":309,"column":151,"offset":9424}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Load distribution：perform load distribution among replicated servers.","position":{"start":{"line":310,"column":3,"offset":9428},"end":{"line":310,"column":72,"offset":9497}}}],"position":{"start":{"line":310,"column":1,"offset":9426},"end":{"line":310,"column":72,"offset":9497}}},{"type":"text","value":"\n"}],"position":{"start":{"line":308,"column":1,"offset":9225},"end":{"line":310,"column":72,"offset":9497}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"如果只有一个DNS server的话，会出现如下的问题：","position":{"start":{"line":312,"column":1,"offset":9501},"end":{"line":312,"column":29,"offset":9529}}}],"position":{"start":{"line":312,"column":1,"offset":9501},"end":{"line":312,"column":29,"offset":9529}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"A single point of failure: 如果DNS crashes，整个internet crash","position":{"start":{"line":314,"column":3,"offset":9535},"end":{"line":314,"column":60,"offset":9592}}}],"position":{"start":{"line":314,"column":1,"offset":9533},"end":{"line":314,"column":60,"offset":9592}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Traffic volume","position":{"start":{"line":315,"column":3,"offset":9596},"end":{"line":315,"column":17,"offset":9610}}}],"position":{"start":{"line":315,"column":1,"offset":9594},"end":{"line":315,"column":17,"offset":9610}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Distant centralized database: qurries可能需要横渡重洋","position":{"start":{"line":316,"column":3,"offset":9614},"end":{"line":316,"column":48,"offset":9659}}}],"position":{"start":{"line":316,"column":1,"offset":9612},"end":{"line":317,"column":1,"offset":9661}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"Maintenance: 会updated frequently to account for every new host","position":{"start":{"line":318,"column":3,"offset":9665},"end":{"line":318,"column":65,"offset":9727}}}],"position":{"start":{"line":318,"column":1,"offset":9663},"end":{"line":318,"column":65,"offset":9727}}},{"type":"text","value":"\n"}],"position":{"start":{"line":314,"column":1,"offset":9533},"end":{"line":318,"column":65,"offset":9727}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"https://imgur.com/ELPiv7g.png","alt":"DNS"},"children":[],"position":{"start":{"line":320,"column":1,"offset":9731},"end":{"line":320,"column":38,"offset":9768}}}],"position":{"start":{"line":320,"column":1,"offset":9731},"end":{"line":320,"column":38,"offset":9768}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"root DNS servers: 世界上有400个root name server。中国只有不到10个。","position":{"start":{"line":322,"column":3,"offset":9774},"end":{"line":322,"column":56,"offset":9827}}}],"position":{"start":{"line":322,"column":1,"offset":9772},"end":{"line":322,"column":56,"offset":9827}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"top-level domain (TLD) servers: 为每个top-level domains，如com, org, net, edu, gov，或者是country TLD, uk, cn, fr, ca.","position":{"start":{"line":323,"column":3,"offset":9831},"end":{"line":323,"column":112,"offset":9940}}}],"position":{"start":{"line":323,"column":1,"offset":9829},"end":{"line":324,"column":1,"offset":9942}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"authoritative DNS server: Every organization with publicly accessible hosts (such as Web servers\nand mail servers) on the Internet must provide publicly accessible DNS records that map the names\nof those hosts to IP addresses.","position":{"start":{"line":325,"column":3,"offset":9946},"end":{"line":327,"column":34,"offset":10178}}}],"position":{"start":{"line":325,"column":1,"offset":9944},"end":{"line":327,"column":34,"offset":10178}}},{"type":"text","value":"\n"}],"position":{"start":{"line":322,"column":1,"offset":9772},"end":{"line":327,"column":34,"offset":10178}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"还有一种重要的DNS server，是local DNS server。它不属于hierarchy of servers，然而是DNS的核心部分。每个ISP都有一个local DNS server，这里之后咋用的懒得记了...","position":{"start":{"line":329,"column":1,"offset":10182},"end":{"line":329,"column":114,"offset":10295}}}],"position":{"start":{"line":329,"column":1,"offset":10182},"end":{"line":329,"column":114,"offset":10295}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"img","properties":{"src":"https://imgur.com/BdHzFAG.png","alt":"local DNS server"},"children":[],"position":{"start":{"line":331,"column":1,"offset":10299},"end":{"line":331,"column":51,"offset":10349}}}],"position":{"start":{"line":331,"column":1,"offset":10299},"end":{"line":331,"column":51,"offset":10349}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"text","value":"DNS caching","position":{"start":{"line":333,"column":6,"offset":10358},"end":{"line":333,"column":17,"offset":10369}}}],"position":{"start":{"line":333,"column":1,"offset":10353},"end":{"line":333,"column":17,"offset":10369}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"当一个DNS server收到一个DNS reply的时候，它会把这个mapping cache到本地存储中。","position":{"start":{"line":335,"column":1,"offset":10373},"end":{"line":335,"column":56,"offset":10428}}}],"position":{"start":{"line":335,"column":1,"offset":10373},"end":{"line":335,"column":56,"offset":10428}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"DNS Records and Messages","position":{"start":{"line":337,"column":5,"offset":10436},"end":{"line":337,"column":29,"offset":10460}}}],"position":{"start":{"line":337,"column":1,"offset":10432},"end":{"line":337,"column":29,"offset":10460}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"一个DNS的resource record是这样的：","position":{"start":{"line":339,"column":1,"offset":10464},"end":{"line":339,"column":27,"offset":10490}}}],"position":{"start":{"line":339,"column":1,"offset":10464},"end":{"line":339,"column":27,"offset":10490}}},{"type":"text","value":"\n"},{"type":"raw","value":"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">(Name, Value, Type, TTL)</code></pre></div>","position":{"start":{"line":341,"column":1,"offset":10494},"end":{"line":343,"column":4,"offset":10528}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"其中TTL表四resource的存储时间，决定什么时候应该从cache中移除。在接下来的讨论中，先不考虑这个。","position":{"start":{"line":345,"column":1,"offset":10532},"end":{"line":345,"column":56,"offset":10587}}}],"position":{"start":{"line":345,"column":1,"offset":10532},"end":{"line":345,"column":56,"offset":10587}}},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">type=A</code>","position":{"start":{"line":347,"column":3,"offset":10593},"end":{"line":347,"column":11,"offset":10601}}},{"type":"text","value":", ","position":{"start":{"line":347,"column":11,"offset":10601},"end":{"line":347,"column":13,"offset":10603}}},{"type":"raw","value":"<code class=\"language-text\">Name</code>","position":{"start":{"line":347,"column":13,"offset":10603},"end":{"line":347,"column":19,"offset":10609}}},{"type":"text","value":"就是hostname, ","position":{"start":{"line":347,"column":19,"offset":10609},"end":{"line":347,"column":31,"offset":10621}}},{"type":"raw","value":"<code class=\"language-text\">Value</code>","position":{"start":{"line":347,"column":31,"offset":10621},"end":{"line":347,"column":38,"offset":10628}}},{"type":"text","value":"是IP address。所以一个type A record提供了标准的hostname-to-IP address mapping。","position":{"start":{"line":347,"column":38,"offset":10628},"end":{"line":347,"column":104,"offset":10694}}}],"position":{"start":{"line":347,"column":3,"offset":10593},"end":{"line":347,"column":104,"offset":10694}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">(relay1.bar.foo.com, 145.37.93.126, A)</code>","position":{"start":{"line":349,"column":3,"offset":10700},"end":{"line":349,"column":43,"offset":10740}}},{"type":"text","value":"是一个type A record。","position":{"start":{"line":349,"column":43,"offset":10740},"end":{"line":349,"column":60,"offset":10757}}}],"position":{"start":{"line":349,"column":3,"offset":10700},"end":{"line":349,"column":60,"offset":10757}}},{"type":"text","value":"\n"}],"position":{"start":{"line":347,"column":1,"offset":10591},"end":{"line":350,"column":1,"offset":10759}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">type=NS</code>","position":{"start":{"line":351,"column":3,"offset":10763},"end":{"line":351,"column":12,"offset":10772}}},{"type":"text","value":", ","position":{"start":{"line":351,"column":12,"offset":10772},"end":{"line":351,"column":14,"offset":10774}}},{"type":"raw","value":"<code class=\"language-text\">Name</code>","position":{"start":{"line":351,"column":14,"offset":10774},"end":{"line":351,"column":20,"offset":10780}}},{"type":"text","value":"是domain，如","position":{"start":{"line":351,"column":20,"offset":10780},"end":{"line":351,"column":29,"offset":10789}}},{"type":"raw","value":"<code class=\"language-text\">foo.com</code>","position":{"start":{"line":351,"column":29,"offset":10789},"end":{"line":351,"column":38,"offset":10798}}},{"type":"text","value":"，","position":{"start":{"line":351,"column":38,"offset":10798},"end":{"line":351,"column":39,"offset":10799}}},{"type":"raw","value":"<code class=\"language-text\">Value</code>","position":{"start":{"line":351,"column":39,"offset":10799},"end":{"line":351,"column":46,"offset":10806}}},{"type":"text","value":"是hostname of an authoritative DNS server that knows how to obtain the IP addresses for hosts in the domain。","position":{"start":{"line":351,"column":46,"offset":10806},"end":{"line":351,"column":153,"offset":10913}}}],"position":{"start":{"line":351,"column":3,"offset":10763},"end":{"line":351,"column":153,"offset":10913}}},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"raw","value":"<code class=\"language-text\">(foo.com, dns.foo.com, NS)</code>","position":{"start":{"line":353,"column":3,"offset":10919},"end":{"line":353,"column":31,"offset":10947}}},{"type":"text","value":"是一个type NS record。","position":{"start":{"line":353,"column":31,"offset":10947},"end":{"line":353,"column":49,"offset":10965}}}],"position":{"start":{"line":353,"column":3,"offset":10919},"end":{"line":353,"column":49,"offset":10965}}},{"type":"text","value":"\n"}],"position":{"start":{"line":351,"column":1,"offset":10761},"end":{"line":354,"column":1,"offset":10967}}},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"If ","position":{"start":{"line":355,"column":3,"offset":10971},"end":{"line":355,"column":6,"offset":10974}}},{"type":"raw","value":"<code class=\"language-text\">type=MX</code>","position":{"start":{"line":355,"column":6,"offset":10974},"end":{"line":355,"column":15,"offset":10983}}},{"type":"text","value":" , then Value is the canonical name of a mail server that has an alias hostname Name .\nAs an example, ","position":{"start":{"line":355,"column":15,"offset":10983},"end":{"line":356,"column":18,"offset":11088}}},{"type":"raw","value":"<code class=\"language-text\">(foo.com, mail.bar.foo.com, MX)</code>","position":{"start":{"line":356,"column":18,"offset":11088},"end":{"line":356,"column":52,"offset":11122}}},{"type":"text","value":"is an MX record.","position":{"start":{"line":356,"column":52,"offset":11122},"end":{"line":356,"column":68,"offset":11138}}}],"position":{"start":{"line":355,"column":1,"offset":10969},"end":{"line":356,"column":68,"offset":11138}}},{"type":"text","value":"\n"}],"position":{"start":{"line":347,"column":1,"offset":10591},"end":{"line":356,"column":68,"offset":11138}}},{"type":"text","value":"\n"},{"type":"element","tagName":"h4","properties":{},"children":[{"type":"text","value":"DNS Messages","position":{"start":{"line":358,"column":6,"offset":11147},"end":{"line":358,"column":18,"offset":11159}}}],"position":{"start":{"line":358,"column":1,"offset":11142},"end":{"line":358,"column":18,"offset":11159}}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":360,"column":1,"offset":11163}}}}